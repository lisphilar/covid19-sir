<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>covsirphy.analysis package &mdash; CovsirPhy  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/copybutton.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/clipboard.min.js"></script>
        <script src="_static/copybutton.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="covsirphy.cleaning package" href="covsirphy.cleaning.html" />
    <link rel="prev" title="covsirphy package" href="covsirphy.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> CovsirPhy
          </a>
              <div class="version">
                2.22.2
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="README.html">CovsirPhy introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="markdown/INSTALLATION.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="markdown/WORKFLOW.html">Workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage_quickest.html">Usage: quickest tour</a></li>
<li class="toctree-l1"><a class="reference internal" href="markdown/LOADING.html">Usage: data loading</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage_dataset.html">Usage: exploratory data analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage_theoretical.html">Usage: SIR-derived models</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage_phases.html">Usage: S-R trend analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage_quick.html">Usage: scenario analysis</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="covsirphy.html">covsirphy package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="covsirphy.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">covsirphy.analysis package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-covsirphy.analysis.data_handler">covsirphy.analysis.data_handler module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-covsirphy.analysis.example_data">covsirphy.analysis.example_data module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-covsirphy.analysis.model_validator">covsirphy.analysis.model_validator module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-covsirphy.analysis.param_tracker">covsirphy.analysis.param_tracker module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-covsirphy.analysis.phase_tracker">covsirphy.analysis.phase_tracker module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-covsirphy.analysis.scenario">covsirphy.analysis.scenario module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="covsirphy.cleaning.html">covsirphy.cleaning package</a></li>
<li class="toctree-l3"><a class="reference internal" href="covsirphy.loading.html">covsirphy.loading package</a></li>
<li class="toctree-l3"><a class="reference internal" href="covsirphy.ode.html">covsirphy.ode package</a></li>
<li class="toctree-l3"><a class="reference internal" href="covsirphy.phase.html">covsirphy.phase package</a></li>
<li class="toctree-l3"><a class="reference internal" href="covsirphy.regression.html">covsirphy.regression package</a></li>
<li class="toctree-l3"><a class="reference internal" href="covsirphy.simulation.html">covsirphy.simulation package</a></li>
<li class="toctree-l3"><a class="reference internal" href="covsirphy.trend.html">covsirphy.trend package</a></li>
<li class="toctree-l3"><a class="reference internal" href="covsirphy.util.html">covsirphy.util package</a></li>
<li class="toctree-l3"><a class="reference internal" href="covsirphy.visualization.html">covsirphy.visualization package</a></li>
<li class="toctree-l3"><a class="reference internal" href="covsirphy.worldwide.html">covsirphy.worldwide package</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="markdown/TERM.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="CODE_OF_CONDUCT.html">Contributor Covenant Code of Conduct</a></li>
<li class="toctree-l1"><a class="reference internal" href="SECURITY.html">Security policy of CovsirPhy</a></li>
<li class="toctree-l1"><a class="reference internal" href="CONTRIBUTING.html">Guideline of contribution</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">CovsirPhy</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="covsirphy.html">covsirphy package</a> &raquo;</li>
      <li>covsirphy.analysis package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/covsirphy.analysis.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<section id="module-covsirphy.analysis">
<span id="covsirphy-analysis-package"></span><h1>covsirphy.analysis package<a class="headerlink" href="#module-covsirphy.analysis" title="Permalink to this headline"></a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline"></a></h2>
</section>
<section id="module-covsirphy.analysis.data_handler">
<span id="covsirphy-analysis-data-handler-module"></span><h2>covsirphy.analysis.data_handler module<a class="headerlink" href="#module-covsirphy.analysis.data_handler" title="Permalink to this headline"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="covsirphy.analysis.data_handler.DataHandler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DataHandler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">country</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">province</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/data_handler.html#DataHandler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.data_handler.DataHandler" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="covsirphy.util.html#covsirphy.util.term.Term" title="covsirphy.util.term.Term"><code class="xref py py-class docutils literal notranslate"><span class="pre">covsirphy.util.term.Term</span></code></a></p>
<p>Data handler for analysis.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>country</strong> (<em>str</em>) – country name</p></li>
<li><p><strong>province</strong> (<em>str</em><em> or </em><em>None</em>) – province name</p></li>
<li><p><strong>kwargs</strong> – arguments of DataHandler.register()</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="covsirphy.analysis.data_handler.DataHandler.EXTRA_DICT">
<span class="sig-name descname"><span class="pre">EXTRA_DICT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'CountryData':</span> <span class="pre">&lt;class</span> <span class="pre">'covsirphy.cleaning.country_data.CountryData'&gt;,</span> <span class="pre">'JapanData':</span> <span class="pre">&lt;class</span> <span class="pre">'covsirphy.cleaning.japan_data.JapanData'&gt;,</span> <span class="pre">'MobilityData':</span> <span class="pre">&lt;class</span> <span class="pre">'covsirphy.cleaning.mobility_data.MobilityData'&gt;,</span> <span class="pre">'OxCGRTData':</span> <span class="pre">&lt;class</span> <span class="pre">'covsirphy.cleaning.oxcgrt.OxCGRTData'&gt;,</span> <span class="pre">'PCRData':</span> <span class="pre">&lt;class</span> <span class="pre">'covsirphy.cleaning.pcr_data.PCRData'&gt;,</span> <span class="pre">'VaccineData':</span> <span class="pre">&lt;class</span> <span class="pre">'covsirphy.cleaning.vaccine_data.VaccineData'&gt;}</span></em><a class="headerlink" href="#covsirphy.analysis.data_handler.DataHandler.EXTRA_DICT" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="covsirphy.analysis.data_handler.DataHandler.complemented">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">complemented</span></span><a class="headerlink" href="#covsirphy.analysis.data_handler.DataHandler.complemented" title="Permalink to this definition"></a></dt>
<dd><p>whether complemented or not and the details</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference internal" href="covsirphy.html#covsirphy.NotRegisteredMainError" title="covsirphy.NotRegisteredMainError"><strong>NotRegisteredMainError</strong></a> – no information because JHUData was not registered</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>bool or str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.data_handler.DataHandler.estimate_delay">
<span class="sig-name descname"><span class="pre">estimate_delay</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indicator</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">7</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_difference</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delay_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Period</span> <span class="pre">Length'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/data_handler.html#DataHandler.estimate_delay"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.data_handler.DataHandler.estimate_delay" title="Permalink to this definition"></a></dt>
<dd><p>Estimate the average day [days] between the indicator and the target.
We assume that the indicator impact on the target value with delay.
All results will be returned with a dataframe.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>indicator</strong> (<em>str</em>) – indicator name, a column of any registered datasets</p></li>
<li><p><strong>target</strong> (<em>str</em>) – target name, a column of any registered datasets</p></li>
<li><p><strong>min_size</strong> (<em>int</em>) – minimum size of the delay period</p></li>
<li><p><strong>use_difference</strong> (<em>bool</em>) – if True, use first discrete difference of target</p></li>
<li><p><strong>delay_name</strong> (<em>str</em>) – column name of delay in the output dataframe</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference internal" href="covsirphy.html#covsirphy.NotRegisteredMainError" title="covsirphy.NotRegisteredMainError"><strong>NotRegisteredMainError</strong></a> – JHUData was not registered</p></li>
<li><p><a class="reference internal" href="covsirphy.html#covsirphy.SubsetNotFoundError" title="covsirphy.SubsetNotFoundError"><strong>SubsetNotFoundError</strong></a> – failed in subsetting because of lack of data</p></li>
<li><p><strong>UserWarning</strong> – failed in calculating and returned the default value (recovery period)</p></li>
</ul>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><dl class="simple">
<dt>Index</dt><dd><p>reset index</p>
</dd>
<dt>Columns</dt><dd><ul class="simple">
<li><p>(int or float): column defined by &#64;indicator</p></li>
<li><p>(int or float): column defined by &#64;target</p></li>
<li><p>(int): column defined by &#64;delay_name [days]</p></li>
</ul>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>pandas.DataFrame</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>We use change point analysis of ruptures package. Refer to the documentation.
<a class="reference external" href="https://centre-borelli.github.io/ruptures-docs/">https://centre-borelli.github.io/ruptures-docs/</a></p></li>
<li><p>When failed in calculation, recovery period will be returned after raising UserWarning.</p></li>
</ul>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="covsirphy.analysis.data_handler.DataHandler.first_date">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">first_date</span></span><a class="headerlink" href="#covsirphy.analysis.data_handler.DataHandler.first_date" title="Permalink to this definition"></a></dt>
<dd><p>the first date of the records</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="covsirphy.analysis.data_handler.DataHandler.last_date">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">last_date</span></span><a class="headerlink" href="#covsirphy.analysis.data_handler.DataHandler.last_date" title="Permalink to this definition"></a></dt>
<dd><p>the last date of the records</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="covsirphy.analysis.data_handler.DataHandler.main_satisfied">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">main_satisfied</span></span><a class="headerlink" href="#covsirphy.analysis.data_handler.DataHandler.main_satisfied" title="Permalink to this definition"></a></dt>
<dd><p>all main datasets were registered or not</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="covsirphy.analysis.data_handler.DataHandler.population">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">population</span></span><a class="headerlink" href="#covsirphy.analysis.data_handler.DataHandler.population" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.data_handler.DataHandler.records">
<span class="sig-name descname"><span class="pre">records</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">main</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extras</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">past</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">future</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/data_handler.html#DataHandler.records"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.data_handler.DataHandler.records" title="Permalink to this definition"></a></dt>
<dd><p>Return records of the datasets as a dataframe.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>main</strong> (<em>bool</em>) – whether include main datasets or not</p></li>
<li><p><strong>extras</strong> (<em>bool</em>) – whether include extra datasets or not</p></li>
<li><p><strong>past</strong> (<em>bool</em>) – whether include past records or not</p></li>
<li><p><strong>future</strong> (<em>bool</em>) – whether include future records or not</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference internal" href="covsirphy.html#covsirphy.NotRegisteredMainError" title="covsirphy.NotRegisteredMainError"><strong>NotRegisteredMainError</strong></a> – JHUData was not registered</p></li>
<li><p><a class="reference internal" href="covsirphy.html#covsirphy.SubsetNotFoundError" title="covsirphy.SubsetNotFoundError"><strong>SubsetNotFoundError</strong></a> – failed in subsetting because of lack of data</p></li>
<li><p><a class="reference internal" href="covsirphy.html#covsirphy.NotRegisteredExtraError" title="covsirphy.NotRegisteredExtraError"><strong>NotRegisteredExtraError</strong></a> – &#64;extras is True and no extra datasets were registered</p></li>
<li><p><strong>ValueError</strong> – both of &#64;main and &#64;extras were False, or both of &#64;past and &#64;future were False</p></li>
</ul>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><dl class="simple">
<dt>Index</dt><dd><p>reset index</p>
</dd>
<dt>Columns:</dt><dd><ul class="simple">
<li><p>Date(pd.Timestamp): Observation date</p></li>
<li><dl class="simple">
<dt>if &#64;main is True,</dt><dd><ul>
<li><p>Confirmed(int): the number of confirmed cases</p></li>
<li><p>Infected(int): the number of currently infected cases</p></li>
<li><p>Fatal(int): the number of fatal cases</p></li>
<li><p>Recovered (int): the number of recovered cases ( &gt; 0)</p></li>
<li><p>Susceptible(int): the number of susceptible cases</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>if &#64;extra is True,</dt><dd><ul>
<li><p>columns defined in the extra datasets</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.data_handler.DataHandler.records_all">
<span class="sig-name descname"><span class="pre">records_all</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/data_handler.html#DataHandler.records_all"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.data_handler.DataHandler.records_all" title="Permalink to this definition"></a></dt>
<dd><p>Return registered all records of the datasets as a dataframe.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="covsirphy.html#covsirphy.NotRegisteredMainError" title="covsirphy.NotRegisteredMainError"><strong>NotRegisteredMainError</strong></a> – JHUData was not registered</p></li>
<li><p><a class="reference internal" href="covsirphy.html#covsirphy.SubsetNotFoundError" title="covsirphy.SubsetNotFoundError"><strong>SubsetNotFoundError</strong></a> – failed in subsetting because of lack of data</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>Index</dt><dd><p>reset index</p>
</dd>
<dt>Columns:</dt><dd><ul class="simple">
<li><p>Date(pd.Timestamp): Observation date</p></li>
<li><p>Confirmed(int): the number of confirmed cases</p></li>
<li><p>Infected(int): the number of currently infected cases</p></li>
<li><p>Fatal(int): the number of fatal cases</p></li>
<li><p>Recovered (int): the number of recovered cases ( &gt; 0)</p></li>
<li><p>Susceptible(int): the number of susceptible cases</p></li>
<li><p>columns defined in the extra datasets</p></li>
</ul>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.data_handler.DataHandler.records_extras">
<span class="sig-name descname"><span class="pre">records_extras</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/data_handler.html#DataHandler.records_extras"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.data_handler.DataHandler.records_extras" title="Permalink to this definition"></a></dt>
<dd><p>Return records of the extra datasets as a dataframe.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="covsirphy.html#covsirphy.NotRegisteredMainError" title="covsirphy.NotRegisteredMainError"><strong>NotRegisteredMainError</strong></a> – JHUData was not registered</p></li>
<li><p><a class="reference internal" href="covsirphy.html#covsirphy.NotRegisteredExtraError" title="covsirphy.NotRegisteredExtraError"><strong>NotRegisteredExtraError</strong></a> – no extra datasets were registered</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>Index</dt><dd><p>reset index</p>
</dd>
<dt>Columns:</dt><dd><ul class="simple">
<li><p>Date(pd.Timestamp): Observation date</p></li>
<li><p>columns defined in the extra datasets</p></li>
</ul>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.data_handler.DataHandler.records_main">
<span class="sig-name descname"><span class="pre">records_main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/data_handler.html#DataHandler.records_main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.data_handler.DataHandler.records_main" title="Permalink to this definition"></a></dt>
<dd><p>Return records of the main datasets as a dataframe from the first date to the last date.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="covsirphy.html#covsirphy.NotRegisteredMainError" title="covsirphy.NotRegisteredMainError"><strong>NotRegisteredMainError</strong></a> – JHUData was not registered</p></li>
<li><p><a class="reference internal" href="covsirphy.html#covsirphy.SubsetNotFoundError" title="covsirphy.SubsetNotFoundError"><strong>SubsetNotFoundError</strong></a> – failed in subsetting because of lack of data</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>Index</dt><dd><p>reset index</p>
</dd>
<dt>Columns:</dt><dd><ul class="simple">
<li><p>Date (pd.Timestamp): Observation date</p></li>
<li><p>Confirmed (int): the number of confirmed cases</p></li>
<li><p>Infected (int): the number of currently infected cases</p></li>
<li><p>Fatal (int): the number of fatal cases</p></li>
<li><p>Recovered (int): the number of recovered cases ( &gt; 0)</p></li>
<li><p>Susceptible (int): the number of susceptible cases</p></li>
</ul>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.data_handler.DataHandler.recovery_period">
<span class="sig-name descname"><span class="pre">recovery_period</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/data_handler.html#DataHandler.recovery_period"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.data_handler.DataHandler.recovery_period" title="Permalink to this definition"></a></dt>
<dd><p>Return representative value of recovery period of all countries.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference internal" href="covsirphy.html#covsirphy.NotRegisteredMainError" title="covsirphy.NotRegisteredMainError"><strong>NotRegisteredMainError</strong></a> – JHUData was not registered</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>recovery period [days]</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.data_handler.DataHandler.register">
<span class="sig-name descname"><span class="pre">register</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">jhu_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">population_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extras</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/data_handler.html#DataHandler.register"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.data_handler.DataHandler.register" title="Permalink to this definition"></a></dt>
<dd><p>Register datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>jhu_data</strong> (<a class="reference internal" href="covsirphy.html#covsirphy.JHUData" title="covsirphy.JHUData"><em>covsirphy.JHUData</em></a><em> or </em><em>None</em>) – object of records</p></li>
<li><p><strong>population_data</strong> (<a class="reference internal" href="covsirphy.html#covsirphy.PopulationData" title="covsirphy.PopulationData"><em>covsirphy.PopulationData</em></a><em> or </em><em>None</em>) – PopulationData object (deprecated)</p></li>
<li><p><strong>extras</strong> (<em>list</em><em>[</em><a class="reference internal" href="covsirphy.html#covsirphy.CleaningBase" title="covsirphy.CleaningBase"><em>covsirphy.CleaningBase</em></a><em>] or </em><em>None</em>) – extra datasets</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>TypeError</strong> – non-data cleaning instance was included</p></li>
<li><p><a class="reference internal" href="covsirphy.html#covsirphy.UnExpectedValueError" title="covsirphy.UnExpectedValueError"><strong>UnExpectedValueError</strong></a> – instance of un-expected data cleaning class was included as an extra dataset</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.data_handler.DataHandler.show_complement">
<span class="sig-name descname"><span class="pre">show_complement</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/data_handler.html#DataHandler.show_complement"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.data_handler.DataHandler.show_complement" title="Permalink to this definition"></a></dt>
<dd><p>Show the details of complement that was (or will be) performed for the records.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>kwargs</strong> – keyword arguments of JHUDataComplementHandler() i.e. control factors of complement</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="covsirphy.html#covsirphy.NotRegisteredMainError" title="covsirphy.NotRegisteredMainError"><strong>NotRegisteredMainError</strong></a> – JHUData was not registered</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>as the same as JHUData.show_complement()</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.data_handler.DataHandler.switch_complement">
<span class="sig-name descname"><span class="pre">switch_complement</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">whether</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/data_handler.html#DataHandler.switch_complement"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.data_handler.DataHandler.switch_complement" title="Permalink to this definition"></a></dt>
<dd><p>Switch whether perform auto complement or not.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>whether</strong> (<em>bool</em>) – if True and necessary, the number of cases will be complemented</p></li>
<li><p><strong>kwargs</strong> – the other arguments of JHUData.subset_complement()</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.data_handler.DataHandler.timepoints">
<span class="sig-name descname"><span class="pre">timepoints</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">first_date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">last_date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">today</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/data_handler.html#DataHandler.timepoints"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.data_handler.DataHandler.timepoints" title="Permalink to this definition"></a></dt>
<dd><p>Set the range of data and reference date to determine past/future of phases.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>first_date</strong> (<em>str</em><em> or </em><em>None</em>) – the first date of the records or None (min date of main dataset)</p></li>
<li><p><strong>last_date</strong> (<em>str</em><em> or </em><em>None</em>) – the first date of the records or None (max date of main dataset)</p></li>
<li><p><strong>today</strong> (<em>str</em><em> or </em><em>None</em>) – reference date to determine whether a phase is a past phase or a future phase</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference internal" href="covsirphy.html#covsirphy.NotRegisteredMainError" title="covsirphy.NotRegisteredMainError"><strong>NotRegisteredMainError</strong></a> – JHUData was not registered</p></li>
<li><p><a class="reference internal" href="covsirphy.html#covsirphy.SubsetNotFoundError" title="covsirphy.SubsetNotFoundError"><strong>SubsetNotFoundError</strong></a> – failed in subsetting because of lack of data</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When &#64;today is None, the reference date will be the same as &#64;last_date (or max date).</p>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="covsirphy.analysis.data_handler.DataHandler.today">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">today</span></span><a class="headerlink" href="#covsirphy.analysis.data_handler.DataHandler.today" title="Permalink to this definition"></a></dt>
<dd><p>reference date to determine whether a phase is a past phase or a future phase</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str or None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-covsirphy.analysis.example_data">
<span id="covsirphy-analysis-example-data-module"></span><h2>covsirphy.analysis.example_data module<a class="headerlink" href="#module-covsirphy.analysis.example_data" title="Permalink to this headline"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="covsirphy.analysis.example_data.ExampleData">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ExampleData</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">clean_df</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tau</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1440</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'22Jan2020'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/example_data.html#ExampleData"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.example_data.ExampleData" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="covsirphy.cleaning.html#covsirphy.cleaning.jhu_data.JHUData" title="covsirphy.cleaning.jhu_data.JHUData"><code class="xref py py-class docutils literal notranslate"><span class="pre">covsirphy.cleaning.jhu_data.JHUData</span></code></a></p>
<p>Example dataset as a child class of JHUData.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>clean_df</strong> (<em>pandas.DataFrame</em><em> or </em><em>None</em>) – <p>cleaned data</p>
<dl class="simple">
<dt>Index</dt><dd><ul>
<li><p>reset index</p></li>
</ul>
</dd>
<dt>Columns</dt><dd><ul>
<li><p>Date (pd.Timestamp): Observation date</p></li>
<li><p>Country (pandas.Category): country/region name</p></li>
<li><p>Province (pandas.Category): province/prefecture/sstate name</p></li>
<li><p>Confirmed (int): the number of confirmed cases</p></li>
<li><p>Infected (int): the number of currently infected cases</p></li>
<li><p>Fatal (int): the number of fatal cases</p></li>
<li><p>Recovered (int): the number of recovered cases</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>tau</strong> (<em>int</em>) – tau value [min]</p></li>
<li><p><strong>start_date</strong> (<em>str</em>) – start date, like 22Jan2020</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.example_data.ExampleData.add">
<span class="sig-name descname"><span class="pre">add</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">country</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">province</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/example_data.html#ExampleData.add"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.example_data.ExampleData.add" title="Permalink to this definition"></a></dt>
<dd><p>Add example data.
If the country has been registered,
the start date will be the next data of the registered records.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<em>cs.ModelBase</em>) – the first ODE model</p></li>
<li><p><strong>country</strong> (<em>str</em><em> or </em><em>None</em>) – country name</p></li>
<li><p><strong>province</strong> (<em>str</em><em> or </em><em>None</em>) – province name</p></li>
<li><p><strong>kwargs</strong> – the other keyword arguments of model.EXAMPLE</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If country is None, the name of the model will be used.
If province is None, ‘-’ will be used.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.example_data.ExampleData.non_dim">
<span class="sig-name descname"><span class="pre">non_dim</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">country</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">province</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/example_data.html#ExampleData.non_dim"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.example_data.ExampleData.non_dim" title="Permalink to this definition"></a></dt>
<dd><p>Return non-dimensional data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<em>cs.ModelBase</em><em> or </em><em>None</em>) – the first ODE model</p></li>
<li><p><strong>country</strong> (<em>str</em><em> or </em><em>None</em>) – country name</p></li>
<li><p><strong>province</strong> (<em>str</em><em> or </em><em>None</em>) – province name</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>Index</dt><dd><p>t: Dates divided by tau value (time steps)</p>
</dd>
<dt>Columns</dt><dd><ul class="simple">
<li><p>(int) variables of the model</p></li>
</ul>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If country is None, the name of the model will be used.
If province is None, ‘-’ will be used.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.example_data.ExampleData.records">
<span class="sig-name descname"><span class="pre">records</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/example_data.html#ExampleData.records"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.example_data.ExampleData.records" title="Permalink to this definition"></a></dt>
<dd><p>This is the same as ExampleData.subset().
Complement will not be done.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.example_data.ExampleData.specialized">
<span class="sig-name descname"><span class="pre">specialized</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">country</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">province</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/example_data.html#ExampleData.specialized"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.example_data.ExampleData.specialized" title="Permalink to this definition"></a></dt>
<dd><p>Return dimensional records with model variables.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<em>cs.ModelBase</em><em> or </em><em>None</em>) – the first ODE model</p></li>
<li><p><strong>country</strong> (<em>str</em><em> or </em><em>None</em>) – country name</p></li>
<li><p><strong>province</strong> (<em>str</em><em> or </em><em>None</em>) – province name</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>Index</dt><dd><p>reset index</p>
</dd>
<dt>Columns</dt><dd><ul class="simple">
<li><p>Date (pd.Timestamp): Observation date</p></li>
<li><p>(int) variables of the model</p></li>
</ul>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If country is None, the name of the model will be used.
If province is None, ‘-’ will be used.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.example_data.ExampleData.subset">
<span class="sig-name descname"><span class="pre">subset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">country</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">province</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/example_data.html#ExampleData.subset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.example_data.ExampleData.subset" title="Permalink to this definition"></a></dt>
<dd><p>Return the subset of dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<em>cs.ModelBase</em><em> or </em><em>None</em>) – the first ODE model</p></li>
<li><p><strong>country</strong> (<em>str</em><em> or </em><em>None</em>) – country name</p></li>
<li><p><strong>province</strong> (<em>str</em><em> or </em><em>None</em>) – province name</p></li>
<li><p><strong>kwargs</strong> – other keyword arguments of JHUData.subset()</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>(pandas.DataFrame)</dt><dd><dl class="simple">
<dt>Index</dt><dd><p>reset index</p>
</dd>
<dt>Columns</dt><dd><ul class="simple">
<li><p>Date (pd.Timestamp): Observation date</p></li>
<li><p>Confirmed (int): the number of confirmed cases</p></li>
<li><p>Infected (int): the number of currently infected cases</p></li>
<li><p>Fatal (int): the number of fatal cases</p></li>
<li><p>Recovered (int): the number of recovered cases (&gt; 0)</p></li>
<li><p>Susceptible (int): the number of susceptible cases, if calculated</p></li>
</ul>
</dd>
</dl>
</dd>
</dl>
</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If country is None, the name of the model will be used.
If province is None, ‘-’ will be used.
If &#64;population is not None, the number of susceptible cases will be calculated.
Records with Recovered &gt; 0 will be selected.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.example_data.ExampleData.subset_complement">
<span class="sig-name descname"><span class="pre">subset_complement</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/example_data.html#ExampleData.subset_complement"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.example_data.ExampleData.subset_complement" title="Permalink to this definition"></a></dt>
<dd><p>This is the same as ExampleData.subset().
Complement will not be done.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-covsirphy.analysis.model_validator">
<span id="covsirphy-analysis-model-validator-module"></span><h2>covsirphy.analysis.model_validator module<a class="headerlink" href="#module-covsirphy.analysis.model_validator" title="Permalink to this headline"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="covsirphy.analysis.model_validator.ModelValidator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ModelValidator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tau</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1440</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_trials</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">8</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step_n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/model_validator.html#ModelValidator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.model_validator.ModelValidator" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="covsirphy.util.html#covsirphy.util.term.Term" title="covsirphy.util.term.Term"><code class="xref py py-class docutils literal notranslate"><span class="pre">covsirphy.util.term.Term</span></code></a></p>
<p>Evaluate ODE models performance as follows.
1. Select model parameter sets randomly
2. Set user-defined/random phase duration
3. Perform simulation with a specified ODE model
4. Perform parameter estimation
5. Compare the estimated parameters and the parameters produced with th 1st step
6. Repeat trials (1 trial = from the 1st step to the 5th step)
Small difference is expected in the 6th step.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tau</strong> (<em>int</em>) – tau value [min]</p></li>
<li><p><strong>n_trials</strong> (<em>int</em>) – the number of trials</p></li>
<li><p><strong>step_n</strong> (<em>int</em><em> or </em><em>None</em>) – the number of steps in simulation (over 2) or None (randomly selected)</p></li>
<li><p><strong>seed</strong> (<em>int</em>) – random seed</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Population value and initial values are defined by model.EXAMPLE.
Estimators know tau values before parameter estimation.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.model_validator.ModelValidator.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">180</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allowance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0.98,</span> <span class="pre">1.02)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_jobs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/model_validator.html#ModelValidator.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.model_validator.ModelValidator.run" title="Permalink to this definition"></a></dt>
<dd><p>Execute model validation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<a class="reference internal" href="covsirphy.html#covsirphy.ModelBase" title="covsirphy.ModelBase"><em>covsirphy.ModelBase</em></a>) – ODE model</p></li>
<li><p><strong>timeout</strong> (<em>int</em>) – time-out of run</p></li>
<li><p><strong>allowance</strong> (<em>tuple</em><em>(</em><em>float</em><em>, </em><em>float</em><em>)</em>) – the allowance of the predicted value</p></li>
<li><p><strong>n_jobs</strong> (<em>int</em>) – the number of parallel jobs or -1 (CPU count)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>self</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="covsirphy.html#covsirphy.ModelValidator" title="covsirphy.ModelValidator">covsirphy.ModelValidator</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.model_validator.ModelValidator.summary">
<span class="sig-name descname"><span class="pre">summary</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/model_validator.html#ModelValidator.summary"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.model_validator.ModelValidator.summary" title="Permalink to this definition"></a></dt>
<dd><p>Show the summary of validation.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><dl class="simple">
<dt>Index</dt><dd><p>reset index</p>
</dd>
<dt>Columns</dt><dd><ul class="simple">
<li><p>ID (str): ID, like SIR_0</p></li>
<li><p>ODE (str): model name</p></li>
<li><p>Rt (float): reproduction number set by ._setup() method</p></li>
<li><p>Rt_est (float): estimated reproduction number</p></li>
<li><p>rho etc. (float): parameter values set by ._setup() method</p></li>
<li><p>rho_est etc. (float): estimated parameter values</p></li>
<li><p>step_n (int): step number of simulation</p></li>
<li><p>RMSLE (float): RMSLE score of parameter estimation</p></li>
<li><p>Trials (int): the number of trials in parameter estimation</p></li>
<li><p>Runtime (str): runtime of parameter estimation</p></li>
</ul>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-covsirphy.analysis.param_tracker">
<span id="covsirphy-analysis-param-tracker-module"></span><h2>covsirphy.analysis.param_tracker module<a class="headerlink" href="#module-covsirphy.analysis.param_tracker" title="Permalink to this headline"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="covsirphy.analysis.param_tracker.ParamTracker">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ParamTracker</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/param_tracker.html#ParamTracker"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.param_tracker.ParamTracker" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="covsirphy.util.html#covsirphy.util.term.Term" title="covsirphy.util.term.Term"><code class="xref py py-class docutils literal notranslate"><span class="pre">covsirphy.util.term.Term</span></code></a></p>
<p>Split records with S-R trend analysis and estimate parameter values of the phases.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>record_df</strong> (<em>pandas.DataFrame</em>) – <p>records</p>
<dl class="simple">
<dt>Index</dt><dd><p>reset index</p>
</dd>
<dt>Columns</dt><dd><ul>
<li><p>Date (pandas.TimeStamp): Observation date</p></li>
<li><p>Confirmed (int): the number of confirmed cases</p></li>
<li><p>Infected (int): the number of currently infected cases</p></li>
<li><p>Fatal (int): the number of fatal cases</p></li>
<li><p>Recovered (int): the number of recovered cases</p></li>
<li><p>Susceptible (int): the number of susceptible cases</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>phase_series</strong> (<a class="reference internal" href="covsirphy.html#covsirphy.PhaseSeries" title="covsirphy.PhaseSeries"><em>covsirphy.PhaseSeries</em></a>) – phase series object with first/last dates and population</p></li>
<li><p><strong>area</strong> (<em>str</em><em> or </em><em>None</em>) – area name, like Japan/Tokyo, or empty string</p></li>
<li><p><strong>tau</strong> (<em>int</em><em> or </em><em>None</em>) – tau value [min]</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.param_tracker.ParamTracker.add">
<span class="sig-name descname"><span class="pre">add</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">end_date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">days</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">population</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/param_tracker.html#ParamTracker.add"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.param_tracker.ParamTracker.add" title="Permalink to this definition"></a></dt>
<dd><p>Add a new phase.
The start date will be the next date of the last registered phase.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>end_date</strong> (<em>str</em>) – end date of the new phase</p></li>
<li><p><strong>days</strong> (<em>int</em>) – the number of days to add</p></li>
<li><p><strong>population</strong> (<em>int</em><em> or </em><em>None</em>) – population value of the start date</p></li>
<li><p><strong>model</strong> (<a class="reference internal" href="covsirphy.html#covsirphy.ModelBase" title="covsirphy.ModelBase"><em>covsirphy.ModelBase</em></a><em> or </em><em>None</em>) – ODE model</p></li>
<li><p><strong>kwargs</strong> – keyword arguments of ODE model parameters, not including tau value</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>covsirphy.PhaseSeries</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>If the phases series has not been registered, new phase series will be created.</p></li>
<li><p>Either &#64;end_date or &#64;days must be specified.</p></li>
<li><p>If &#64;end_date and &#64;days are None, the end date will be the last date of the records.</p></li>
<li><p>If both of &#64;end_date and &#64;days were specified, &#64;end_date will be used.</p></li>
<li><p>If &#64;popultion is None, initial value will be used.</p></li>
<li><p>If &#64;model is None, the model of the last phase will be used.</p></li>
<li><p>Tau will be fixed as the last phase’s value.</p></li>
<li><p>kwargs: Default values are the parameter values of the last phase.</p></li>
</ul>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.param_tracker.ParamTracker.all_phases">
<span class="sig-name descname"><span class="pre">all_phases</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/param_tracker.html#ParamTracker.all_phases"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.param_tracker.ParamTracker.all_phases" title="Permalink to this definition"></a></dt>
<dd><p>Return the names of all enabled phases.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the names of all enabled phases</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.param_tracker.ParamTracker.change_dates">
<span class="sig-name descname"><span class="pre">change_dates</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/param_tracker.html#ParamTracker.change_dates"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.param_tracker.ParamTracker.change_dates" title="Permalink to this definition"></a></dt>
<dd><p>Return the list of changed dates (start dates of phases since 1st phase).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list of change dates</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.param_tracker.ParamTracker.combine">
<span class="sig-name descname"><span class="pre">combine</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">phases</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">population</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/param_tracker.html#ParamTracker.combine"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.param_tracker.ParamTracker.combine" title="Permalink to this definition"></a></dt>
<dd><p>Combine the sequential phases as one phase.
New phase name will be automatically determined.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>phases</strong> (<em>list</em><em>[</em><em>str</em><em>]</em>) – list of phases</p></li>
<li><p><strong>population</strong> (<em>int</em>) – population value of the start date</p></li>
<li><p><strong>kwargs</strong> – keyword arguments to save as phase information</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>TypeError</strong> – &#64;phases is not a list</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>self</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="covsirphy.html#covsirphy.Scenario" title="covsirphy.Scenario">covsirphy.Scenario</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.param_tracker.ParamTracker.create_series">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">create_series</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">first_date</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">last_date</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">population</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/param_tracker.html#ParamTracker.create_series"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.param_tracker.ParamTracker.create_series" title="Permalink to this definition"></a></dt>
<dd><p>Create PhaseSeries instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>first_date</strong> (<em>str</em>) – the first date of the records</p></li>
<li><p><strong>last_date</strong> (<em>str</em>) – the last date of the records</p></li>
<li><p><strong>population</strong> (<em>int</em>) – population value</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>covsirphy.PhaseSeries</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.param_tracker.ParamTracker.delete">
<span class="sig-name descname"><span class="pre">delete</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">phases</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/param_tracker.html#ParamTracker.delete"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.param_tracker.ParamTracker.delete" title="Permalink to this definition"></a></dt>
<dd><p>Delete selected phases.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>phases</strong> (<em>list</em><em>[</em><em>str</em><em>]</em>) – phases names to delete</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>covsirphy.PhaseSeries</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.param_tracker.ParamTracker.delete_all">
<span class="sig-name descname"><span class="pre">delete_all</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/param_tracker.html#ParamTracker.delete_all"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.param_tracker.ParamTracker.delete_all" title="Permalink to this definition"></a></dt>
<dd><p>Delete all phases.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>covsirphy.PhaseSeries</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.param_tracker.ParamTracker.disable">
<span class="sig-name descname"><span class="pre">disable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">phases</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/param_tracker.html#ParamTracker.disable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.param_tracker.ParamTracker.disable" title="Permalink to this definition"></a></dt>
<dd><p>The phases will be disabled.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>phase</strong> (<em>list</em><em>[</em><em>str</em><em>] or </em><em>None</em>) – phase names or None (all enabled phases)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>covsirphy.PhaseSeries</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.param_tracker.ParamTracker.enable">
<span class="sig-name descname"><span class="pre">enable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">phases</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/param_tracker.html#ParamTracker.enable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.param_tracker.ParamTracker.enable" title="Permalink to this definition"></a></dt>
<dd><p>The phases will be enabled.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>phase</strong> (<em>list</em><em>[</em><em>str</em><em>] or </em><em>None</em>) – phase names or None (all disabled phases)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>covsirphy.PhaseSeries</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.param_tracker.ParamTracker.estimate">
<span class="sig-name descname"><span class="pre">estimate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phases</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_jobs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/param_tracker.html#ParamTracker.estimate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.param_tracker.ParamTracker.estimate" title="Permalink to this definition"></a></dt>
<dd><p>Perform parameter estimation for each phases.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<a class="reference internal" href="covsirphy.html#covsirphy.ModelBase" title="covsirphy.ModelBase"><em>covsirphy.ModelBase</em></a>) – ODE model</p></li>
<li><p><strong>phases</strong> (<em>list</em><em>[</em><em>str</em><em>]</em>) – list of phase names, like 1st, 2nd…</p></li>
<li><p><strong>n_jobs</strong> (<em>int</em>) – the number of parallel jobs or -1 (CPU count)</p></li>
<li><p><strong>kwargs</strong> – keyword arguments of model parameters and covsirphy.Estimator.run()</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>tau value [min] and phase series</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple(int, <a class="reference internal" href="covsirphy.html#covsirphy.PhaseSeries" title="covsirphy.PhaseSeries">covsirphy.PhaseSeries</a>)</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>If &#64;phases is None, all past phase will be used.</p></li>
<li><p>Phases with estimated parameter values will be ignored.</p></li>
<li><p>In kwargs, tau value cannot be included.</p></li>
</ul>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.param_tracker.ParamTracker.find_phase">
<span class="sig-name descname"><span class="pre">find_phase</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">date</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/param_tracker.html#ParamTracker.find_phase"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.param_tracker.ParamTracker.find_phase" title="Permalink to this definition"></a></dt>
<dd><p>Find the name of the phase which has the date.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>date</strong> (<em>str</em>) – date, like 01Jan2020</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>str: phase name, like 1st, 2nd,…
covsirphy.PhaseUnit: phase unit</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple(str, <a class="reference internal" href="covsirphy.html#covsirphy.PhaseUnit" title="covsirphy.PhaseUnit">covsirphy.PhaseUnit</a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.param_tracker.ParamTracker.future_phases">
<span class="sig-name descname"><span class="pre">future_phases</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/param_tracker.html#ParamTracker.future_phases"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.param_tracker.ParamTracker.future_phases" title="Permalink to this definition"></a></dt>
<dd><p>Return names and phase units of the future phases.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list[str]: list of phase names
list[covsirphy.PhaseUnit]: list of phase units</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>tuple(list[str], list[<a class="reference internal" href="covsirphy.html#covsirphy.PhaseUnit" title="covsirphy.PhaseUnit">covsirphy.PhaseUnit</a>])</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.param_tracker.ParamTracker.last_end_date">
<span class="sig-name descname"><span class="pre">last_end_date</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/param_tracker.html#ParamTracker.last_end_date"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.param_tracker.ParamTracker.last_end_date" title="Permalink to this definition"></a></dt>
<dd><p>Return the last end date of the series.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the last end date</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="covsirphy.analysis.param_tracker.ParamTracker.last_model">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">last_model</span></span><a class="headerlink" href="#covsirphy.analysis.param_tracker.ParamTracker.last_model" title="Permalink to this definition"></a></dt>
<dd><p>ODE model if the last phase</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="covsirphy.html#covsirphy.ModelBase" title="covsirphy.ModelBase">covsirphy.ModelBase</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.param_tracker.ParamTracker.near_change_dates">
<span class="sig-name descname"><span class="pre">near_change_dates</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/param_tracker.html#ParamTracker.near_change_dates"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.param_tracker.ParamTracker.near_change_dates" title="Permalink to this definition"></a></dt>
<dd><p>Show the list of dates which are yesterday/tomorrow of the start/end dates.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list of dates</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.param_tracker.ParamTracker.past_phases">
<span class="sig-name descname"><span class="pre">past_phases</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">phases</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/param_tracker.html#ParamTracker.past_phases"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.param_tracker.ParamTracker.past_phases" title="Permalink to this definition"></a></dt>
<dd><p>Return names and phase units of the past phases.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>phases</strong> (<em>tuple/list</em><em>[</em><em>str</em><em>]</em>) – list of phase names, like 1st, 2nd…</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list[str]: list of phase names
list[covsirphy.PhaseUnit]: list of phase units</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple(list[str], list[<a class="reference internal" href="covsirphy.html#covsirphy.PhaseUnit" title="covsirphy.PhaseUnit">covsirphy.PhaseUnit</a>])</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If &#64;phases is None, return the all past phases.
If &#64;phases is not None, intersection will be selected.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.param_tracker.ParamTracker.score">
<span class="sig-name descname"><span class="pre">score</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">variables</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phases</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y0_dict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/param_tracker.html#ParamTracker.score"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.param_tracker.ParamTracker.score" title="Permalink to this definition"></a></dt>
<dd><p>Evaluate accuracy of phase setting and parameter estimation of selected enabled phases.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>variables</strong> (<em>list</em><em>[</em><em>str</em><em>] or </em><em>None</em>) – variables to use in calculation</p></li>
<li><p><strong>phases</strong> (<em>list</em><em>[</em><em>str</em><em>] or </em><em>None</em>) – phases to use in calculation</p></li>
<li><p><strong>y0_dict</strong> (<em>dict</em><em>[</em><em>str</em><em>, </em><em>float</em><em>] or </em><em>None</em>) – dictionary of initial values of variables</p></li>
<li><p><strong>kwargs</strong> – keyword arguments of covsirphy.Evaluator.score()</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>score with the specified metrics</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If &#64;variables is None, [“Infected”, “Fatal”, “Recovered”] will be used.
“Confirmed”, “Infected”, “Fatal” and “Recovered” can be used in &#64;variables.
If &#64;phases is None, all phases will be used.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.param_tracker.ParamTracker.separate">
<span class="sig-name descname"><span class="pre">separate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">date</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">population</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/param_tracker.html#ParamTracker.separate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.param_tracker.ParamTracker.separate" title="Permalink to this definition"></a></dt>
<dd><p>Create a new phase with the change point.
New phase name will be automatically determined.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>date</strong> (<em>str</em>) – change point, i.e. start date of the new phase</p></li>
<li><p><strong>population</strong> (<em>int</em>) – population value of the change point</p></li>
<li><p><strong>kwargs</strong> – keyword arguments of PhaseUnit.set_ode() if update is necessary</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>covsirphy.PhaseSeries</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="covsirphy.analysis.param_tracker.ParamTracker.series">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">series</span></span><a class="headerlink" href="#covsirphy.analysis.param_tracker.ParamTracker.series" title="Permalink to this definition"></a></dt>
<dd><p>phase series object (series of covsirphy.PhaseUnit)</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="covsirphy.html#covsirphy.PhaseSeries" title="covsirphy.PhaseSeries">covsirphy.PhaseSeries</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.param_tracker.ParamTracker.simulate">
<span class="sig-name descname"><span class="pre">simulate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">y0_dict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/param_tracker.html#ParamTracker.simulate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.param_tracker.ParamTracker.simulate" title="Permalink to this definition"></a></dt>
<dd><p>Simulate ODE models with set/estimated parameter values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>y0_dict</strong> (<em>dict</em><em>[</em><em>str</em><em>, </em><em>float</em><em>] or </em><em>None</em>) – dictionary of initial values of variables</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>pandas.DataFrame</dt><dd><dl class="simple">
<dt>Index</dt><dd><p>reset index</p>
</dd>
<dt>Columns</dt><dd><ul class="simple">
<li><p>Date (pd.Timestamp): Observation date</p></li>
<li><p>Country (str): country/region name</p></li>
<li><p>Province (str): province/prefecture/state name</p></li>
<li><p>Variables of the model and dataset (int): Confirmed etc.</p></li>
</ul>
</dd>
</dl>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.param_tracker.ParamTracker.trend">
<span class="sig-name descname"><span class="pre">trend</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_figure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/param_tracker.html#ParamTracker.trend"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.param_tracker.ParamTracker.trend" title="Permalink to this definition"></a></dt>
<dd><p>Split the records with trend analysis.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>force</strong> (<em>bool</em>) – if True, change points will be over-written</p></li>
<li><p><strong>show_figure</strong> (<em>bool</em>) – if True, show the result as a figure</p></li>
<li><p><strong>kwargs</strong> – keyword arguments of covsirphy.TrendDetector(), .TrendDetector.sr() and .trend_plot()</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>covsirphy.PhaseSeries</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-covsirphy.analysis.phase_tracker">
<span id="covsirphy-analysis-phase-tracker-module"></span><h2>covsirphy.analysis.phase_tracker module<a class="headerlink" href="#module-covsirphy.analysis.phase_tracker" title="Permalink to this headline"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="covsirphy.analysis.phase_tracker.PhaseTracker">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">PhaseTracker</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">today</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">area</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/phase_tracker.html#PhaseTracker"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.phase_tracker.PhaseTracker" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="covsirphy.util.html#covsirphy.util.term.Term" title="covsirphy.util.term.Term"><code class="xref py py-class docutils literal notranslate"><span class="pre">covsirphy.util.term.Term</span></code></a></p>
<p>Track phase information of one scenario.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>pandas.DataFrame</em>) – <dl class="simple">
<dt>Index</dt><dd><p>reset index</p>
</dd>
<dt>Columns</dt><dd><ul>
<li><p>Date (pandas.Timestamp): Observation date</p></li>
<li><p>Confirmed (int): the number of confirmed cases</p></li>
<li><p>Infected (int): the number of currently infected cases</p></li>
<li><p>Fatal (int): the number of fatal cases</p></li>
<li><p>Recovered (int): the number of recovered cases</p></li>
<li><p>Susceptible (int): the number of susceptible cases</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>today</strong> (<em>str</em><em> or </em><em>pandas.Timestamp</em>) – reference date to determine whether a phase is a past phase or not</p></li>
<li><p><strong>area</strong> (<em>str</em>) – area name, like Japan/Tokyo</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>(Internally) ID=0 means not registered, ID &lt; 0 means disabled, IDs (&gt;0) are active phase ID.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.phase_tracker.PhaseTracker.deactivate">
<span class="sig-name descname"><span class="pre">deactivate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/phase_tracker.html#PhaseTracker.deactivate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.phase_tracker.PhaseTracker.deactivate" title="Permalink to this definition"></a></dt>
<dd><p>The status (enabled/disabled) of the phases between start and end date will be reversed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start</strong> (<em>str</em><em> or </em><em>pandas.Timestamp</em>) – start date of the phase to remove</p></li>
<li><p><strong>end</strong> (<em>str</em><em> or </em><em>pandas.Timestamp</em>) – end date of the phase to remove</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>self</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="covsirphy.html#covsirphy.PhaseTracker" title="covsirphy.PhaseTracker">covsirphy.PhaseTracker</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.phase_tracker.PhaseTracker.define_phase">
<span class="sig-name descname"><span class="pre">define_phase</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/phase_tracker.html#PhaseTracker.define_phase"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.phase_tracker.PhaseTracker.define_phase" title="Permalink to this definition"></a></dt>
<dd><p>Define an active phase with the series of dates.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start</strong> (<em>str</em><em> or </em><em>pandas.Timestamp</em>) – start date of the new phase</p></li>
<li><p><strong>end</strong> (<em>str</em><em> or </em><em>pandas.Timestamp</em>) – end date of the new phase</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>self</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="covsirphy.html#covsirphy.PhaseTracker" title="covsirphy.PhaseTracker">covsirphy.PhaseTracker</a></p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When today is in the range of (start, end), a past phase and a future phase will be created.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.phase_tracker.PhaseTracker.estimate">
<span class="sig-name descname"><span class="pre">estimate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tau</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/phase_tracker.html#PhaseTracker.estimate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.phase_tracker.PhaseTracker.estimate" title="Permalink to this definition"></a></dt>
<dd><p>Perform parameter estimation for each phases and update parameter values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<a class="reference internal" href="covsirphy.html#covsirphy.ModelBase" title="covsirphy.ModelBase"><em>covsirphy.ModelBase</em></a>) – ODE model</p></li>
<li><p><strong>tau</strong> (<em>int</em><em> or </em><em>None</em>) – tau value [min] or None (to be estimated)</p></li>
<li><p><strong>kwargs</strong> – keyword arguments of ODEHander(), ODEHandler.estimate_tau() and .estimate_param()</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>applied or estimated tau value [min]</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>ODE parameter estimation will be done for all active phases.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.phase_tracker.PhaseTracker.parse_range">
<span class="sig-name descname"><span class="pre">parse_range</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dates</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">past_days</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phases</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/phase_tracker.html#PhaseTracker.parse_range"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.phase_tracker.PhaseTracker.parse_range" title="Permalink to this definition"></a></dt>
<dd><p>Parse date range and return the minimum date and maximum date.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dates</strong> (<em>tuple</em><em>(</em><em>str</em><em> or </em><em>pandas.Timestamp</em><em> or </em><em>None</em><em>, </em><em>) or </em><em>None</em>) – start date and end date</p></li>
<li><p><strong>past_days</strong> (<em>int</em><em> or </em><em>None</em>) – how many past days to use in calculation from today (property)</p></li>
<li><p><strong>phases</strong> (<em>list</em><em>[</em><em>str</em><em>] or </em><em>None</em>) – phase names to use in calculation</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference internal" href="covsirphy.html#covsirphy.UnExecutedError" title="covsirphy.UnExecutedError"><strong>covsirphy.UnExecutedError</strong></a> – no phases were registered</p></li>
<li><p><strong>ValueError</strong> – &#64;dates argument does not have exact two elements</p></li>
</ul>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the minimum date and maximum date</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>tuple(pandas.Timestamp, pandas.Timestamp)</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>When not specified (i.e. None was applied),
the start date of the 0th phase will be used as the minimum date.</p>
<p class="rubric">Notes</p>
<p>When not specified (i.e. None was applied),
the end date of the last phase phase will be used as the maximum date.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When &#64;past_days was specified, (today - &#64;past_days, today) will be returned.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In &#64;phases, ‘last’ means the last registered phase.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Priority is given in the order of &#64;dates, &#64;past_days, &#64;phases.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.phase_tracker.PhaseTracker.remove_phase">
<span class="sig-name descname"><span class="pre">remove_phase</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/phase_tracker.html#PhaseTracker.remove_phase"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.phase_tracker.PhaseTracker.remove_phase" title="Permalink to this definition"></a></dt>
<dd><p>Remove phase information from the date range.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start</strong> (<em>str</em><em> or </em><em>pandas.Timestamp</em>) – start date of the phase to remove</p></li>
<li><p><strong>end</strong> (<em>str</em><em> or </em><em>pandas.Timestamp</em>) – end date of the phase to remove</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>self</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="covsirphy.html#covsirphy.PhaseTracker" title="covsirphy.PhaseTracker">covsirphy.PhaseTracker</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.phase_tracker.PhaseTracker.set_ode">
<span class="sig-name descname"><span class="pre">set_ode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param_df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tau</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/phase_tracker.html#PhaseTracker.set_ode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.phase_tracker.PhaseTracker.set_ode" title="Permalink to this definition"></a></dt>
<dd><p>Set ODE model, parameter values manually, not using parameter estimation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<a class="reference internal" href="covsirphy.html#covsirphy.ModelBase" title="covsirphy.ModelBase"><em>covsirphy.ModelBase</em></a>) – ODE model</p></li>
<li><p><strong>param_df</strong> (<em>pandas.DataFrame</em>) – <dl class="simple">
<dt>Index</dt><dd><p>Date (pandas.Timestamp): dates to update parameter values</p>
</dd>
<dt>Columns</dt><dd><p>(float): parameter values</p>
</dd>
</dl>
</p></li>
<li><p><strong>tau</strong> (<em>int</em>) – tau value [min] (must not be None)</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – some model parameters are not included in &#64;param_df</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Parameters are defined by model.PARAMETERS.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>applied tau value [min]</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>ODE model for simulation will be overwritten.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.phase_tracker.PhaseTracker.simulate">
<span class="sig-name descname"><span class="pre">simulate</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/phase_tracker.html#PhaseTracker.simulate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.phase_tracker.PhaseTracker.simulate" title="Permalink to this definition"></a></dt>
<dd><p>Perform simulation with the multi-phased ODE model.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference internal" href="covsirphy.html#covsirphy.UnExecutedError" title="covsirphy.UnExecutedError"><strong>covsirphy.UnExecutedError</strong></a> – either tau value or phase information was not set</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>Index</dt><dd><p>reset index</p>
</dd>
<dt>Columns</dt><dd><ul class="simple">
<li><p>Date (pandas.Timestamp): Observation date</p></li>
<li><p>Confirmed (int): the number of confirmed cases</p></li>
<li><p>Infected (int): the number of currently infected cases</p></li>
<li><p>Fatal (int): the number of fatal cases</p></li>
<li><p>Recovered (int): the number of recovered cases</p></li>
<li><p>Susceptible (int): the number of susceptible cases</p></li>
</ul>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Deactivated phases will be included.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Un-registered phases will not be included.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If parameter set is not registered for the current phase and
the previous phase has parameter set, this set will be used for the current phase.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.phase_tracker.PhaseTracker.summary">
<span class="sig-name descname"><span class="pre">summary</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/phase_tracker.html#PhaseTracker.summary"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.phase_tracker.PhaseTracker.summary" title="Permalink to this definition"></a></dt>
<dd><p>Summarize phase information.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><dl class="simple">
<dt>pandas.DataFrame</dt><dd><dl class="simple">
<dt>Index</dt><dd><p>str: phase names</p>
</dd>
<dt>Columns</dt><dd><ul class="simple">
<li><p>Type: ‘Past’ or ‘Future’</p></li>
<li><p>Start: start date of the phase</p></li>
<li><p>End: end date of the phase</p></li>
<li><p>Population: population value of the start date</p></li>
<li><dl class="simple">
<dt>If available,</dt><dd><ul>
<li><p>ODE (str): ODE model names</p></li>
<li><p>Rt (float): phase-dependent reproduction number</p></li>
<li><p>(str, float): estimated parameter values, including rho</p></li>
<li><p>tau (int): tau value [min]</p></li>
<li><p>(int or float): day parameters, including 1/beta [days]</p></li>
<li><p>{metric}: score with the estimated parameter values</p></li>
<li><p>Trials (int): the number of trials</p></li>
<li><p>Runtime (str): runtime of optimization</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.phase_tracker.PhaseTracker.track">
<span class="sig-name descname"><span class="pre">track</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/phase_tracker.html#PhaseTracker.track"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.phase_tracker.PhaseTracker.track" title="Permalink to this definition"></a></dt>
<dd><p>Track data with all dates.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><dl class="simple">
<dt>pandas.DataFrame</dt><dd><dl class="simple">
<dt>Index</dt><dd><p>reset index</p>
</dd>
<dt>Columns</dt><dd><ul class="simple">
<li><p>Date (pandas.Timestamp): Observation date</p></li>
<li><p>Confirmed (int): the number of confirmed cases</p></li>
<li><p>Infected (int): the number of currently infected cases</p></li>
<li><p>Fatal (int): the number of fatal cases</p></li>
<li><p>Recovered (int): the number of recovered cases</p></li>
<li><p>Susceptible (int): the number of susceptible cases</p></li>
<li><dl class="simple">
<dt>If available,</dt><dd><ul>
<li><p>Rt (float): phase-dependent reproduction number</p></li>
<li><p>(str, float): estimated parameter values, including rho</p></li>
<li><p>(int or float): day parameters, including 1/beta [days]</p></li>
<li><p>{metric}: score with the estimated parameter values</p></li>
<li><p>Trials (int): the number of trials</p></li>
<li><p>Runtime (str): runtime of optimization</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</dd>
</dl>
</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>C/I/F/R/S/I is simulated values if parameter values are available.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.phase_tracker.PhaseTracker.trend">
<span class="sig-name descname"><span class="pre">trend</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">force</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_figure</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/phase_tracker.html#PhaseTracker.trend"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.phase_tracker.PhaseTracker.trend" title="Permalink to this definition"></a></dt>
<dd><p>Define past phases with S-R trend analysis.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>force</strong> (<em>bool</em>) – if True, change points will be over-written</p></li>
<li><p><strong>show_figure</strong> (<em>bool</em>) – if True, show the result as a figure</p></li>
<li><p><strong>kwargs</strong> – keyword arguments of covsirphy.TrendDetector(), .TrendDetector.sr() and .trend_plot()</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>self</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="covsirphy.html#covsirphy.PhaseTracker" title="covsirphy.PhaseTracker">covsirphy.PhaseTracker</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-covsirphy.analysis.scenario">
<span id="covsirphy-analysis-scenario-module"></span><h2>covsirphy.analysis.scenario module<a class="headerlink" href="#module-covsirphy.analysis.scenario" title="Permalink to this headline"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="covsirphy.analysis.scenario.Scenario">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Scenario</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">jhu_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">population_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">country</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">province</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tau</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_complement</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/scenario.html#Scenario"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.scenario.Scenario" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="covsirphy.util.html#covsirphy.util.term.Term" title="covsirphy.util.term.Term"><code class="xref py py-class docutils literal notranslate"><span class="pre">covsirphy.util.term.Term</span></code></a></p>
<p>Scenario analysis.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>jhu_data</strong> (<a class="reference internal" href="covsirphy.html#covsirphy.JHUData" title="covsirphy.JHUData"><em>covsirphy.JHUData</em></a><em> or </em><em>None</em>) – object of records</p></li>
<li><p><strong>population_data</strong> (<a class="reference internal" href="covsirphy.html#covsirphy.PopulationData" title="covsirphy.PopulationData"><em>covsirphy.PopulationData</em></a><em> or </em><em>None</em>) – PopulationData object</p></li>
<li><p><strong>country</strong> (<em>str</em>) – country name (must not be None)</p></li>
<li><p><strong>province</strong> (<em>str</em><em> or </em><em>None</em>) – province name</p></li>
<li><p><strong>tau</strong> (<em>int</em><em> or </em><em>None</em>) – tau value</p></li>
<li><p><strong>auto_complement</strong> (<em>bool</em>) – if True and necessary, the number of cases will be complemented</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>&#64;jhu_data and &#64;population_data must be registered with Scenario.register() if not specified here.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.scenario.Scenario.add">
<span class="sig-name descname"><span class="pre">add</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Main'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">days</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tau</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/scenario.html#Scenario.add"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.scenario.Scenario.add" title="Permalink to this definition"></a></dt>
<dd><p>Add a new phase.
The start date will be the next date of the last registered phase.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – phase series name, ‘Main’ or user-defined name</p></li>
<li><p><strong>end_date</strong> (<em>str</em>) – end date of the new phase</p></li>
<li><p><strong>days</strong> (<em>int</em>) – the number of days to add</p></li>
<li><p><strong>model</strong> (<a class="reference internal" href="covsirphy.html#covsirphy.ModelBase" title="covsirphy.ModelBase"><em>covsirphy.ModelBase</em></a><em> or </em><em>None</em>) – ODE model or None (not specified here)</p></li>
<li><p><strong>tau</strong> (<em>int</em><em> or </em><em>None</em>) – tau value [min] or None (not specified here)</p></li>
<li><p><strong>kwargs</strong> – keyword arguments of ODE model parameters, not including tau value.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – &#64;end_date if smaller than the last end date of registered phases</p></li>
<li><p><strong>KeyError</strong> – model was registered, but some parameter values were not specified</p></li>
</ul>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>self</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="covsirphy.html#covsirphy.Scenario" title="covsirphy.Scenario">covsirphy.Scenario</a></p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If &#64;end_date and &#64;days are None, the end date will be the last date of the records.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When registered, ODE model and tau value will not be updated by &#64;model and &#64;tau.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If both of &#64;end_date and &#64;days were specified, &#64;end_date will be used.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When ODE model and tau value has been or were registered, parameter values will be also added.
Default values are that of the last phase. Er can change them with kwargs.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.scenario.Scenario.add_phase">
<span class="sig-name descname"><span class="pre">add_phase</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#covsirphy.analysis.scenario.Scenario.add_phase" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.scenario.Scenario.adjust_end">
<span class="sig-name descname"><span class="pre">adjust_end</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/scenario.html#Scenario.adjust_end"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.scenario.Scenario.adjust_end" title="Permalink to this definition"></a></dt>
<dd><p>Adjust the last end dates of the registered scenarios, if necessary.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>self</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="covsirphy.html#covsirphy.Scenario" title="covsirphy.Scenario">covsirphy.Scenario</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.scenario.Scenario.backup">
<span class="sig-name descname"><span class="pre">backup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/scenario.html#Scenario.backup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.scenario.Scenario.backup" title="Permalink to this definition"></a></dt>
<dd><p>Backup scenario information to a JSON file (so that we can use it with Scenario.restore()).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> (<em>str</em><em> or </em><em>pathlib.Path</em>) – JSON filename to backup the information</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.scenario.Scenario.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Main'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_past</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">template</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Main'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/scenario.html#Scenario.clear"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.scenario.Scenario.clear" title="Permalink to this definition"></a></dt>
<dd><p>Clear phase information.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – scenario name</p></li>
<li><p><strong>include_past</strong> (<em>bool</em>) – if True, past phases will be removed as well as future phases</p></li>
<li><p><strong>template</strong> (<em>str</em>) – name of template scenario</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>self</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="covsirphy.html#covsirphy.Scenario" title="covsirphy.Scenario">covsirphy.Scenario</a></p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If un-registered scenario name was specified, new scenario will be created.
Future phases will be always deleted.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.scenario.Scenario.combine">
<span class="sig-name descname"><span class="pre">combine</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">phases</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Main'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/scenario.html#Scenario.combine"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.scenario.Scenario.combine" title="Permalink to this definition"></a></dt>
<dd><p>Combine the sequential phases as one phase.
New phase name will be automatically determined.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>phases</strong> (<em>list</em><em>[</em><em>str</em><em>]</em>) – list of phases</p></li>
<li><p><strong>name</strong> (<em>str</em><em>, </em><em>optional</em>) – name of phase series</p></li>
<li><p><strong>kwargs</strong> – keyword arguments of parameters</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>kwargs will be ignore when model and tau is not registered.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>TypeError</strong> – &#64;phases is not a list</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>self</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="covsirphy.html#covsirphy.Scenario" title="covsirphy.Scenario">covsirphy.Scenario</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.scenario.Scenario.complement">
<span class="sig-name descname"><span class="pre">complement</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/scenario.html#Scenario.complement"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.scenario.Scenario.complement" title="Permalink to this definition"></a></dt>
<dd><p>Complement the number of recovered cases, if necessary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>kwargs</strong> – the other arguments of JHUData.subset_complement()</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>self</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="covsirphy.html#covsirphy.Scenario" title="covsirphy.Scenario">covsirphy.Scenario</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.scenario.Scenario.complement_reverse">
<span class="sig-name descname"><span class="pre">complement_reverse</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/scenario.html#Scenario.complement_reverse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.scenario.Scenario.complement_reverse" title="Permalink to this definition"></a></dt>
<dd><p>Restore the raw records. Reverse method of covsirphy.Scenario.complement().</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>self</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="covsirphy.html#covsirphy.Scenario" title="covsirphy.Scenario">covsirphy.Scenario</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.scenario.Scenario.delete">
<span class="sig-name descname"><span class="pre">delete</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">phases</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Main'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/scenario.html#Scenario.delete"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.scenario.Scenario.delete" title="Permalink to this definition"></a></dt>
<dd><p>Delete phases.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>phase</strong> (<em>list</em><em>[</em><em>str</em><em>] or </em><em>None</em>) – phase names, or [‘last’]</p></li>
<li><p><strong>name</strong> (<em>str</em>) – name of phase series</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>self</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="covsirphy.html#covsirphy.Scenario" title="covsirphy.Scenario">covsirphy.Scenario</a></p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If &#64;phases is None, the phase series will be deleted.
When &#64;phase is ‘0th’, disable 0th phase. 0th phase will not be deleted.
If the last phase is included in &#64;phases, the dates will be released from phases.
If the last phase is not included, the dates will be assigned to the previous phase.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.scenario.Scenario.describe">
<span class="sig-name descname"><span class="pre">describe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">with_rt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/scenario.html#Scenario.describe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.scenario.Scenario.describe" title="Permalink to this definition"></a></dt>
<dd><p>Describe representative values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>with_rt</strong> (<em>bool</em>) – whether show the history of Rt values</p></li>
<li><p><strong>kwargs</strong> – the other arguments will be ignored</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>Index</dt><dd><p>str: scenario name</p>
</dd>
<dt>Columns</dt><dd><ul class="simple">
<li><p>max(Infected): max value of Infected</p></li>
<li><p>argmax(Infected): the date when Infected shows max value</p></li>
<li><p>Confirmed({date}): Confirmed on the next date of the last phase</p></li>
<li><p>Infected({date}): Infected on the next date of the last phase</p></li>
<li><p>Fatal({date}): Fatal on the next date of the last phase</p></li>
<li><p>nth_Rt etc.: Rt value if the values are not the same values</p></li>
</ul>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.scenario.Scenario.disable">
<span class="sig-name descname"><span class="pre">disable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">phases</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Main'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/scenario.html#Scenario.disable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.scenario.Scenario.disable" title="Permalink to this definition"></a></dt>
<dd><p>The phases will be disabled and removed from summary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>phase</strong> (<em>list</em><em>[</em><em>str</em><em>] or </em><em>None</em>) – phase names or None (all enabled phases)</p></li>
<li><p><strong>name</strong> (<em>str</em>) – scenario name</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>self</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="covsirphy.html#covsirphy.Scenario" title="covsirphy.Scenario">covsirphy.Scenario</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.scenario.Scenario.enable">
<span class="sig-name descname"><span class="pre">enable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">phases</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Main'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/scenario.html#Scenario.enable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.scenario.Scenario.enable" title="Permalink to this definition"></a></dt>
<dd><p>The phases will be enabled and appear in summary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>phase</strong> (<em>list</em><em>[</em><em>str</em><em>] or </em><em>None</em>) – phase names or None (all disabled phases)</p></li>
<li><p><strong>name</strong> (<em>str</em>) – scenario name</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>self</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="covsirphy.html#covsirphy.Scenario" title="covsirphy.Scenario">covsirphy.Scenario</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.scenario.Scenario.estimate">
<span class="sig-name descname"><span class="pre">estimate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phases</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Main'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/scenario.html#Scenario.estimate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.scenario.Scenario.estimate" title="Permalink to this definition"></a></dt>
<dd><p>Perform parameter estimation for each phases.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<a class="reference internal" href="covsirphy.html#covsirphy.ModelBase" title="covsirphy.ModelBase"><em>covsirphy.ModelBase</em></a>) – ODE model</p></li>
<li><p><strong>phases</strong> (<em>list</em><em>[</em><em>str</em><em>]</em>) – list of phase names, like 1st, 2nd…</p></li>
<li><p><strong>name</strong> (<em>str</em>) – phase series name</p></li>
<li><p><strong>kwargs</strong> – keyword arguments of ODEHander(), ODEHandler.estimate_tau() and .estimate_param()</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If &#64;name phase was not registered, new tracker will be created.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If &#64;phases is None, all past phase will be used.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.scenario.Scenario.estimate_accuracy">
<span class="sig-name descname"><span class="pre">estimate_accuracy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">phase</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Main'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/scenario.html#Scenario.estimate_accuracy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.scenario.Scenario.estimate_accuracy" title="Permalink to this definition"></a></dt>
<dd><p>Show the accuracy as a figure.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>phase</strong> (<em>str</em>) – phase name, like 1st, 2nd…</p></li>
<li><p><strong>name</strong> (<em>str</em>) – phase series name</p></li>
<li><p><strong>kwargs</strong> – keyword arguments of covsirphy.compare_plot()</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If ‘Main’ was used as &#64;name, main PhaseSeries will be used.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.scenario.Scenario.estimate_delay">
<span class="sig-name descname"><span class="pre">estimate_delay</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">oxcgrt_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indicator</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Stringency_index'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Confirmed'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">percentile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">25</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limits</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(7,</span> <span class="pre">30)</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/scenario.html#Scenario.estimate_delay"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.scenario.Scenario.estimate_delay" title="Permalink to this definition"></a></dt>
<dd><p>Estimate delay period [days], assuming the indicator impact on the target value with delay.
The average of representative value (percentile) and &#64;min_size will be returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>oxcgrt_data</strong> (<a class="reference internal" href="covsirphy.html#covsirphy.OxCGRTData" title="covsirphy.OxCGRTData"><em>covsirphy.OxCGRTData</em></a>) – OxCGRT dataset</p></li>
<li><p><strong>indicator</strong> (<em>str</em>) – indicator name, a column of any registered datasets</p></li>
<li><p><strong>target</strong> (<em>str</em>) – target name, a column of any registered datasets</p></li>
<li><p><strong>percentile</strong> (<em>int</em>) – percentile to calculate the representative value, in (0, 100)</p></li>
<li><p><strong>limits</strong> (<em>tuple</em><em>(</em><em>int</em><em>, </em><em>int</em><em>)</em>) – minimum/maximum size of the delay period [days]</p></li>
<li><p><strong>kwargs</strong> – keyword arguments of DataHandler.estimate_delay()</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference internal" href="covsirphy.html#covsirphy.NotRegisteredMainError" title="covsirphy.NotRegisteredMainError"><strong>NotRegisteredMainError</strong></a> – JHUData was not registered</p></li>
<li><p><a class="reference internal" href="covsirphy.html#covsirphy.SubsetNotFoundError" title="covsirphy.SubsetNotFoundError"><strong>SubsetNotFoundError</strong></a> – failed in subsetting because of lack of data</p></li>
<li><p><strong>UserWarning</strong> – failed in calculating and returned the default value (recovery period)</p></li>
</ul>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p>int: the estimated number of days of delay [day] (mode value)</p></li>
<li><dl class="simple">
<dt>pandas.DataFrame:</dt><dd><dl class="simple">
<dt>Index</dt><dd><p>reset index</p>
</dd>
<dt>Columns</dt><dd><ul>
<li><p>(int or float): column defined by &#64;indicator</p></li>
<li><p>(int or float): column defined by &#64;target</p></li>
<li><p>(int): column defined by &#64;delay_name [days]</p></li>
</ul>
</dd>
</dl>
</dd>
</dl>
</li>
</ul>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>tuple(int, pandas.DataFrame)</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Average recovered period of JHU dataset will be used as returned value when the estimated value was not in value_range.</p></li>
<li><p>&#64;oxcgrt_data argument was deprecated. Please use Scenario.register(extras=[oxcgrt_data]).</p></li>
</ul>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.scenario.Scenario.estimate_history">
<span class="sig-name descname"><span class="pre">estimate_history</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#covsirphy.analysis.scenario.Scenario.estimate_history" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="covsirphy.analysis.scenario.Scenario.first_date">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">first_date</span></span><a class="headerlink" href="#covsirphy.analysis.scenario.Scenario.first_date" title="Permalink to this definition"></a></dt>
<dd><p>the first date of the records</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.scenario.Scenario.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">oxcgrt_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Main'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delay</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(7,</span> <span class="pre">31)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">removed_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'MAPE'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/scenario.html#Scenario.fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.scenario.Scenario.fit" title="Permalink to this definition"></a></dt>
<dd><p>Fit regressors to predict the parameter values in the future phases,
assuming that indicators will impact on ODE parameter values/the number of cases with delay.
Please refer to covsirphy.RegressionHander class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>oxcgrt_data</strong> (<a class="reference internal" href="covsirphy.html#covsirphy.OxCGRTData" title="covsirphy.OxCGRTData"><em>covsirphy.OxCGRTData</em></a>) – OxCGRT dataset, deprecated</p></li>
<li><p><strong>name</strong> (<em>str</em>) – scenario name</p></li>
<li><p><strong>test_size</strong> (<em>float</em>) – proportion of the test dataset of Elastic Net regression</p></li>
<li><p><strong>seed</strong> (<em>int</em>) – random seed when spliting the dataset to train/test data</p></li>
<li><p><strong>delay</strong> (<em>int</em><em> or </em><em>tuple</em><em>(</em><em>int</em><em>, </em><em>int</em><em>) or </em><em>None</em>) – <ul>
<li><p>(int): delay period [days],</p></li>
<li><p>tuple(int, int): select the best value with grid search in this range, or</p></li>
<li><p>None: Scenario.estimate_delay() calculate automatically</p></li>
</ul>
</p></li>
<li><p><strong>removed_cols</strong> (<em>list</em><em>[</em><em>str</em><em>] or </em><em>None</em>) – list of variables to remove from X dataset or None (indicators used to estimate delay period)</p></li>
<li><p><strong>metric</strong> (<em>str</em>) – metric name</p></li>
<li><p><strong>kwargs</strong> – keyword arguments of
- sklearn.model_selection.train_test_split(),
- RegressionHandler.feature_engineering(),
- RegressorHandler.fit() and
- Scenario.fit_accuracy()</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="covsirphy.html#covsirphy.UnExecutedError" title="covsirphy.UnExecutedError"><strong>covsirphy.UnExecutedError</strong></a> – Scenario.estimate() or Scenario.add() were not performed</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>this is the same as covsirphy.Regressionhander.to_dict()</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>&#64;oxcgrt_data argument was deprecated. Please use Scenario.register(extras=[oxcgrt_data]).</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Please refer to covsirphy.Evaluator.score() for metric names.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If &#64;seed is included in kwargs, this will be converted to &#64;random_state.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>default values regarding sklearn.model_selection.train_test_split() are
test_size=0.2, random_state=0, shuffle=False.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.scenario.Scenario.fit_accuracy">
<span class="sig-name descname"><span class="pre">fit_accuracy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Main'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'MAPE'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_figure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/scenario.html#Scenario.fit_accuracy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.scenario.Scenario.fit_accuracy" title="Permalink to this definition"></a></dt>
<dd><p>Create a plot to show the accuracy of forecasting (predicted vs. actual parameter values).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – scenario name</p></li>
<li><p><strong>metric</strong> (<em>str</em>) – metric name, refer to covsirphy.Evaluator.score()</p></li>
<li><p><strong>show_figure</strong> (<em>bool</em>) – whether show figure or not</p></li>
<li><p><strong>kwargs</strong> – keyword arguments of RegressionHandler.pred_true_plot()</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.scenario.Scenario.fit_predict">
<span class="sig-name descname"><span class="pre">fit_predict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">oxcgrt_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Main'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/scenario.html#Scenario.fit_predict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.scenario.Scenario.fit_predict" title="Permalink to this definition"></a></dt>
<dd><p>Predict parameter values of the future phases using Elastic Net regression with OxCGRT scores,
assuming that OxCGRT scores will impact on ODE parameter values with delay.
New future phases will be added (over-written).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>oxcgrt_data</strong> (<a class="reference internal" href="covsirphy.html#covsirphy.OxCGRTData" title="covsirphy.OxCGRTData"><em>covsirphy.OxCGRTData</em></a><em> or </em><em>None</em>) – OxCGRT dataset</p></li>
<li><p><strong>name</strong> (<em>str</em>) – scenario name</p></li>
<li><p><strong>kwargs</strong> – the other arguments of Scenario.fit() and Scenario.predict()</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference internal" href="covsirphy.html#covsirphy.UnExecutedError" title="covsirphy.UnExecutedError"><strong>covsirphy.UnExecutedError</strong></a> – Scenario.estimate() or Scenario.add() were not performed</p></li>
<li><p><a class="reference internal" href="covsirphy.html#covsirphy.NotRegisteredExtraError" title="covsirphy.NotRegisteredExtraError"><strong>NotRegisteredExtraError</strong></a> – no extra datasets were registered</p></li>
</ul>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>self</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="covsirphy.html#covsirphy.Scenario" title="covsirphy.Scenario">covsirphy.Scenario</a></p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>&#64;oxcgrt_data argument was deprecated. Please use Scenario.register(extras=[oxcgrt_data]).</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.scenario.Scenario.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phase</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'last'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Main'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/scenario.html#Scenario.get"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.scenario.Scenario.get" title="Permalink to this definition"></a></dt>
<dd><p>Get the parameter value of the phase.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>param</strong> (<em>str</em>) – parameter name (columns in self.summary())</p></li>
<li><p><strong>phase</strong> (<em>str</em>) – phase name or ‘last’
- if ‘last’, the value of the last phase will be returned</p></li>
<li><p><strong>name</strong> (<em>str</em>) – phase series name</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>str or int or float</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If ‘Main’ was used as &#64;name, main PhaseSeries will be used.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.scenario.Scenario.history">
<span class="sig-name descname"><span class="pre">history</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_actual</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ref_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Main'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/scenario.html#Scenario.history"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.scenario.Scenario.history" title="Permalink to this definition"></a></dt>
<dd><p>Show the history of variables and parameter values to compare scenarios.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target</strong> (<em>str</em>) – parameter or variable name to show (Rt, Infected etc.)</p></li>
<li><p><strong>with_actual</strong> (<em>bool</em>) – if True and &#64;target is a variable name, show actual number of cases</p></li>
<li><p><strong>ref_name</strong> (<em>str</em>) – name of reference scenario to specify phases and dates</p></li>
<li><p><strong>kwargs</strong> – the other keyword arguments of Scenario.line_plot() and PhaseTracker.parse_range()</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>Index</dt><dd><p>Date (pandas.Timestamp)</p>
</dd>
<dt>Columns</dt><dd><p>{scenario name} (int or float): values of the registered scenario</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.scenario.Scenario.history_rate">
<span class="sig-name descname"><span class="pre">history_rate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Main'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/scenario.html#Scenario.history_rate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.scenario.Scenario.history_rate" title="Permalink to this definition"></a></dt>
<dd><p>Show change rates of parameter values in one figure.
We can find the parameters which increased/decreased significantly.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>params</strong> (<em>list</em><em>[</em><em>str</em><em>] or </em><em>None</em>) – parameters to show</p></li>
<li><p><strong>name</strong> (<em>str</em>) – phase series name</p></li>
<li><p><strong>kwargs</strong> – the other keyword arguments of Scenario.line_plot()</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="covsirphy.analysis.scenario.Scenario.interactive">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">interactive</span></span><a class="headerlink" href="#covsirphy.analysis.scenario.Scenario.interactive" title="Permalink to this definition"></a></dt>
<dd><p>interactive mode (display figures) or not</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When running scripts, interactive mode cannot be selected.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="covsirphy.analysis.scenario.Scenario.last_date">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">last_date</span></span><a class="headerlink" href="#covsirphy.analysis.scenario.Scenario.last_date" title="Permalink to this definition"></a></dt>
<dd><p>the last date of the records</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.scenario.Scenario.line_plot">
<span class="sig-name descname"><span class="pre">line_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_figure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/scenario.html#Scenario.line_plot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.scenario.Scenario.line_plot" title="Permalink to this definition"></a></dt>
<dd><p>Display or save a line plot of the dataframe.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>show_figure</strong> (<em>bool</em>) – whether show figure when interactive mode or not</p></li>
<li><p><strong>filename</strong> (<em>str</em><em> or </em><em>None</em>) – filename of the figure or None (not save) when script mode</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When interactive mode and &#64;show_figure is True, display the figure.
When script mode and filename is not None, save the figure.
When using interactive shell, we can change the modes by Scenario.interactive = True/False.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.scenario.Scenario.param_history">
<span class="sig-name descname"><span class="pre">param_history</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#covsirphy.analysis.scenario.Scenario.param_history" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.scenario.Scenario.phase_estimator">
<span class="sig-name descname"><span class="pre">phase_estimator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#covsirphy.analysis.scenario.Scenario.phase_estimator" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.scenario.Scenario.predict">
<span class="sig-name descname"><span class="pre">predict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">days</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Main'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/scenario.html#Scenario.predict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.scenario.Scenario.predict" title="Permalink to this definition"></a></dt>
<dd><p>Predict parameter values of the future phases using Elastic Net regression with OxCGRT scores,
assuming that OxCGRT scores will impact on ODE parameter values with delay.
New future phases will be added (over-written).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>days</strong> (<em>list</em><em>[</em><em>int</em><em>]</em>) – list of days to predict or None (only the max value)</p></li>
<li><p><strong>name</strong> (<em>str</em>) – scenario name</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference internal" href="covsirphy.html#covsirphy.UnExecutedError" title="covsirphy.UnExecutedError"><strong>covsirphy.UnExecutedError</strong></a> – Scenario.fit() was not performed</p></li>
<li><p><a class="reference internal" href="covsirphy.html#covsirphy.NotRegisteredExtraError" title="covsirphy.NotRegisteredExtraError"><strong>NotRegisteredExtraError</strong></a> – no extra datasets were registered</p></li>
</ul>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>self</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="covsirphy.html#covsirphy.Scenario" title="covsirphy.Scenario">covsirphy.Scenario</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.scenario.Scenario.records">
<span class="sig-name descname"><span class="pre">records</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">variables</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/scenario.html#Scenario.records"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.scenario.Scenario.records" title="Permalink to this definition"></a></dt>
<dd><p>Return the records as a dataframe.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>variables</strong> (<em>list</em><em>[</em><em>str</em><em>] or </em><em>str</em><em> or </em><em>None</em>) – variable names or abbreviated names</p></li>
<li><p><strong>kwargs</strong> – the other keyword arguments of Scenario.line_plot()</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference internal" href="covsirphy.html#covsirphy.NotRegisteredMainError" title="covsirphy.NotRegisteredMainError"><strong>NotRegisteredMainError</strong></a> – JHUData was not registered</p></li>
<li><p><a class="reference internal" href="covsirphy.html#covsirphy.SubsetNotFoundError" title="covsirphy.SubsetNotFoundError"><strong>SubsetNotFoundError</strong></a> – failed in subsetting because of lack of data</p></li>
<li><p><a class="reference internal" href="covsirphy.html#covsirphy.NotRegisteredExtraError" title="covsirphy.NotRegisteredExtraError"><strong>NotRegisteredExtraError</strong></a> – some variables are not included in the main datasets</p></li>
<li><p><strong>and no extra datasets were registered</strong> – </p></li>
</ul>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p>pandas.DataFrame</p>
<blockquote>
<div><dl class="simple">
<dt>Index</dt><dd><p>reset index</p>
</dd>
<dt>Columns</dt><dd><ul class="simple">
<li><p>Date (pd.Timestamp): Observation date</p></li>
<li><p>Columns set by &#64;variables (int)</p></li>
</ul>
</dd>
</dl>
</div></blockquote>
</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Records with Recovered &gt; 0 will be selected.</p></li>
<li><p>If complement was performed by Scenario.complement() or Scenario(auto_complement=True),</p></li>
</ul>
<p>The kind of complement will be added to the title of the figure.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Selectable values of &#64;variables are as follows.
- None: return default list, [“Infected”, “Recovered”, “Fatal”] (changed in the future)
- list[str]: return the selected variables
- “all”: the all available variables
- str: abbr, like “CIFR” (Confirmed/Infected/Fatal/Recovered), “CFR”, “RC”</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.scenario.Scenario.records_diff">
<span class="sig-name descname"><span class="pre">records_diff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">variables</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">window</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">7</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/scenario.html#Scenario.records_diff"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.scenario.Scenario.records_diff" title="Permalink to this definition"></a></dt>
<dd><p>Return the number of daily new cases (the first discreate difference of records).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>variables</strong> (<em>list</em><em>[</em><em>str</em><em>] or </em><em>str</em><em> or </em><em>None</em>) – variable names or abbreviated names (as the same as Scenario.records())</p></li>
<li><p><strong>window</strong> (<em>int</em>) – window of moving average, &gt;= 1</p></li>
<li><p><strong>kwargs</strong> – the other keyword arguments of Scenario.line_plot()</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>pandas.DataFrame</dt><dd><dl class="simple">
<dt>Index</dt><dd><ul class="simple">
<li><p>Date (pd.Timestamp): Observation date</p></li>
</ul>
</dd>
<dt>Columns</dt><dd><ul class="simple">
<li><p>Confirmed (int): daily new cases of Confirmed, if calculated</p></li>
<li><p>Infected (int):  daily new cases of Infected, if calculated</p></li>
<li><p>Fatal (int):  daily new cases of Fatal, if calculated</p></li>
<li><p>Recovered (int):  daily new cases of Recovered, if calculated</p></li>
</ul>
</dd>
</dl>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.scenario.Scenario.register">
<span class="sig-name descname"><span class="pre">register</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">jhu_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">population_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extras</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/scenario.html#Scenario.register"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.scenario.Scenario.register" title="Permalink to this definition"></a></dt>
<dd><p>Register datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>jhu_data</strong> (<a class="reference internal" href="covsirphy.html#covsirphy.JHUData" title="covsirphy.JHUData"><em>covsirphy.JHUData</em></a><em> or </em><em>None</em>) – object of records</p></li>
<li><p><strong>population_data</strong> (<a class="reference internal" href="covsirphy.html#covsirphy.PopulationData" title="covsirphy.PopulationData"><em>covsirphy.PopulationData</em></a><em> or </em><em>None</em>) – PopulationData object (deprecated)</p></li>
<li><p><strong>extras</strong> (<em>list</em><em>[</em><a class="reference internal" href="covsirphy.html#covsirphy.CleaningBase" title="covsirphy.CleaningBase"><em>covsirphy.CleaningBase</em></a><em>] or </em><em>None</em>) – extra datasets</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>TypeError</strong> – non-data cleaning instance was included</p></li>
<li><p><a class="reference internal" href="covsirphy.html#covsirphy.UnExpectedValueError" title="covsirphy.UnExpectedValueError"><strong>UnExpectedValueError</strong></a> – instance of un-expected data cleaning class was included as an extra dataset</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.scenario.Scenario.restore">
<span class="sig-name descname"><span class="pre">restore</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/scenario.html#Scenario.restore"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.scenario.Scenario.restore" title="Permalink to this definition"></a></dt>
<dd><p>Restore scenario information with a JSON file (written by Scenario.backup()).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> (<em>str</em><em> or </em><em>pathlib.Path</em>) – JSON file to read</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>self</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="covsirphy.html#covsirphy.Scenario" title="covsirphy.Scenario">covsirphy.Scenario</a></p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If keyword arguments of Scenario.timepoint() are available as the values of “timepoint” key,
timpoints will be restored.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.scenario.Scenario.retrospective">
<span class="sig-name descname"><span class="pre">retrospective</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">beginning_date</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">control</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Main'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Target'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/scenario.html#Scenario.retrospective"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.scenario.Scenario.retrospective" title="Permalink to this definition"></a></dt>
<dd><p>Perform retrospective analysis.
Compare the actual series of phases (control) and
series of phases with specified parameters (target).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>beginning_date</strong> (<em>str</em>) – when the parameter values start to be changed from actual values</p></li>
<li><p><strong>model</strong> (<a class="reference internal" href="covsirphy.html#covsirphy.ModelBase" title="covsirphy.ModelBase"><em>covsirphy.ModelBase</em></a>) – ODE model</p></li>
<li><p><strong>control</strong> (<em>str</em>) – scenario name of control</p></li>
<li><p><strong>target</strong> (<em>str</em>) – scenario name of target</p></li>
<li><p><strong>kwargs</strong> – keyword arguments of ODEHander(), ODEHandler.estimate_tau() and .estimate_param()</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When parameter values are not specified,
actual values of the last date before the beginning date will be used.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.scenario.Scenario.score">
<span class="sig-name descname"><span class="pre">score</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">variables</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Main'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/scenario.html#Scenario.score"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.scenario.Scenario.score" title="Permalink to this definition"></a></dt>
<dd><p>Evaluate accuracy of phase setting and parameter estimation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>variables</strong> (<em>list</em><em>[</em><em>str</em><em>] or </em><em>None</em>) – variables to use in calculation</p></li>
<li><p><strong>name</strong> (<em>str</em>) – phase series name. If ‘Main’, main PhaseSeries will be used</p></li>
<li><p><strong>kwargs</strong> – keyword arguments of covsirphy.Evaluator.score() and PhaseTracker.parse_range()</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>score with the specified metrics (covsirphy.Evaluator.score())</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If &#64;variables is None, [“Infected”, “Fatal”, “Recovered”] will be used.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>“Susceptible”, “Confirmed”, “Infected”, “Fatal” and “Recovered” can be used in &#64;variables.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.scenario.Scenario.separate">
<span class="sig-name descname"><span class="pre">separate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">date</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Main'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/scenario.html#Scenario.separate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.scenario.Scenario.separate" title="Permalink to this definition"></a></dt>
<dd><p>Create a new phase with the change point.
New phase name will be automatically determined.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>date</strong> (<em>pandas.Timestamp</em><em> or </em><em>str</em>) – change point, i.e. start date of the new phase</p></li>
<li><p><strong>name</strong> (<em>str</em>) – scenario name</p></li>
<li><p><strong>kwargs</strong> – will be ignored</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – the date is close to one of the registered change dates</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>self</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="covsirphy.html#covsirphy.Scenario" title="covsirphy.Scenario">covsirphy.Scenario</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.scenario.Scenario.show_complement">
<span class="sig-name descname"><span class="pre">show_complement</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/scenario.html#Scenario.show_complement"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.scenario.Scenario.show_complement" title="Permalink to this definition"></a></dt>
<dd><p>Show the details of complement that was (or will be) performed for the records.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>kwargs</strong> – keyword arguments of JHUDataComplementHandler() i.e. control factors of complement</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>as the same as JHUData.show_complement()</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.scenario.Scenario.simulate">
<span class="sig-name descname"><span class="pre">simulate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">variables</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Main'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/scenario.html#Scenario.simulate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.scenario.Scenario.simulate" title="Permalink to this definition"></a></dt>
<dd><p>Simulate ODE models with set/estimated parameter values and show it as a figure.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>variables</strong> (<em>list</em><em>[</em><em>str</em><em>] or </em><em>str</em><em> or </em><em>None</em>) – variable names or abbreviated names (as the same as Scenario.records())</p></li>
<li><p><strong>name</strong> (<em>str</em>) – phase series name. If ‘Main’, main PhaseSeries will be used</p></li>
<li><p><strong>kwargs</strong> – the other keyword arguments of Scenario.line_plot() and PhaseTracker.parse_range()</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>pandas.DataFrame</dt><dd><dl class="simple">
<dt>Index</dt><dd><p>reset index</p>
</dd>
<dt>Columns</dt><dd><ul class="simple">
<li><p>Date (pandas.Timestamp): Observation date</p></li>
<li><p>Country (str): country/region name</p></li>
<li><p>Province (str): province/prefecture/state name</p></li>
<li><p>Variables of the main dataset (int): Confirmed etc.</p></li>
</ul>
</dd>
</dl>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.scenario.Scenario.summary">
<span class="sig-name descname"><span class="pre">summary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/scenario.html#Scenario.summary"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.scenario.Scenario.summary" title="Permalink to this definition"></a></dt>
<dd><p>Summarize the series of phases and return a dataframe.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – phase series name
- name of alternative phase series registered by Scenario.add()
- if None, all phase series will be shown</p></li>
<li><p><strong>columns</strong> (<em>list</em><em>[</em><em>str</em><em>] or </em><em>None</em>) – columns to show</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p>if &#64;name not None, as the same as PhaseTracker().summary()</p></li>
<li><p>if &#64;name is None, index will be phase series name and phase name</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If ‘Main’ was used as &#64;name, main PhaseSeries will be used.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If &#64;columns is None, all columns will be shown.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>“Start” and “End” are string at this time.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.scenario.Scenario.timepoints">
<span class="sig-name descname"><span class="pre">timepoints</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">first_date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">last_date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">today</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/scenario.html#Scenario.timepoints"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.scenario.Scenario.timepoints" title="Permalink to this definition"></a></dt>
<dd><p>Set the range of data and reference date to determine past/future of phases.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>first_date</strong> (<em>str</em><em> or </em><em>None</em>) – the first date of the records or None (min date of main dataset)</p></li>
<li><p><strong>last_date</strong> (<em>str</em><em> or </em><em>None</em>) – the first date of the records or None (max date of main dataset)</p></li>
<li><p><strong>today</strong> (<em>str</em><em> or </em><em>None</em>) – reference date to determine whether a phase is a past phase or a future phase</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference internal" href="covsirphy.html#covsirphy.NotRegisteredMainError" title="covsirphy.NotRegisteredMainError"><strong>NotRegisteredMainError</strong></a> – JHUData was not registered</p></li>
<li><p><a class="reference internal" href="covsirphy.html#covsirphy.SubsetNotFoundError" title="covsirphy.SubsetNotFoundError"><strong>SubsetNotFoundError</strong></a> – failed in subsetting because of lack of data</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When &#64;today is None, the reference date will be the same as &#64;last_date (or max date).</p>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="covsirphy.analysis.scenario.Scenario.today">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">today</span></span><a class="headerlink" href="#covsirphy.analysis.scenario.Scenario.today" title="Permalink to this definition"></a></dt>
<dd><p>reference date to determine whether a phase is a past phase or a future phase</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.scenario.Scenario.track">
<span class="sig-name descname"><span class="pre">track</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">with_actual</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ref_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Main'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/scenario.html#Scenario.track"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.scenario.Scenario.track" title="Permalink to this definition"></a></dt>
<dd><p>Show values of parameters and variables in one dataframe.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>with_actual</strong> (<em>bool</em>) – if True, show actual number of cases will included as “Actual” scenario</p></li>
<li><p><strong>ref_name</strong> (<em>str</em>) – name of reference scenario to specify phases and dates</p></li>
<li><p><strong>kwargs</strong> – keyword arguments of PhaseTracker.parse_range()</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>tracking records</dt><dd><dl class="simple">
<dt>Index</dt><dd><p>reset index</p>
</dd>
<dt>Columns</dt><dd><ul class="simple">
<li><p>Scenario (str)</p></li>
<li><p>Date (pandas.TimeStamp)</p></li>
<li><p>Confirmed (int): the number of confirmed cases</p></li>
<li><p>Infected (int): the number of currently infected cases</p></li>
<li><p>Fatal (int): the number of fatal cases</p></li>
<li><p>Recovered (int): the number of recovered cases</p></li>
<li><p>Susceptible (int): the number of susceptible cases</p></li>
<li><p>Population (int)</p></li>
<li><dl class="simple">
<dt>If available,</dt><dd><ul>
<li><p>Rt (float)</p></li>
<li><p>parameter values (float)</p></li>
<li><p>day parameter values (int)</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="covsirphy.analysis.scenario.Scenario.trend">
<span class="sig-name descname"><span class="pre">trend</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">min_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Main'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_figure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/covsirphy/analysis/scenario.html#Scenario.trend"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#covsirphy.analysis.scenario.Scenario.trend" title="Permalink to this definition"></a></dt>
<dd><p>Perform S-R trend analysis and set phases.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>min_size</strong> (<em>int</em><em> or </em><em>None</em>) – minimum value of phase length [days] (over 2) or None (equal to max of 7 and delay period)</p></li>
<li><p><strong>force</strong> (<em>bool</em>) – if True, change points will be over-written</p></li>
<li><p><strong>name</strong> (<em>str</em>) – phase series name</p></li>
<li><p><strong>show_figure</strong> (<em>bool</em>) – if True, show the result as a figure</p></li>
<li><p><strong>filename</strong> (<em>str</em>) – filename of the figure, or None (display)</p></li>
<li><p><strong>kwargs</strong> – keyword arguments of covsirphy.TrendDetector(), .TrendDetector.sr() and .trend_plot()</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>self</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="covsirphy.html#covsirphy.Scenario" title="covsirphy.Scenario">covsirphy.Scenario</a></p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If &#64;min_size is None, this will be thw max value of 7 days and delay period calculated with .estimate_delay() method.</p>
</div>
</dd></dl>

</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="covsirphy.html" class="btn btn-neutral float-left" title="covsirphy package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="covsirphy.cleaning.html" class="btn btn-neutral float-right" title="covsirphy.cleaning package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, CovsirPhy Development Team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>