

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Installation and dataset preparation &mdash; CovsirPhy  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Usage (quickest version)" href="usage_quickest.html" />
    <link rel="prev" title="CovsirPhy introduction" href="README.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> CovsirPhy
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="README.html">CovsirPhy introduction</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Installation and dataset preparation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#options-of-installation">Options of installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#datasets-to-load">Datasets to load</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#covid-19-data-hub">COVID-19 Data Hub</a></li>
<li class="toctree-l3"><a class="reference internal" href="#open-covid-19-data-working-group">Open COVID-19 Data Working Group</a></li>
<li class="toctree-l3"><a class="reference internal" href="#datasets-for-covsirphy">Datasets for CovsirPhy</a></li>
<li class="toctree-l3"><a class="reference internal" href="#how-to-request-new-data-loader">How to request new data loader</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#standard-users">1. Standard users</a></li>
<li class="toctree-l2"><a class="reference internal" href="#developers">2. Developers</a></li>
<li class="toctree-l2"><a class="reference internal" href="#kagglers-local-environment">3. Kagglers (local environment)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#kagglers-kaggle-platform">4. Kagglers (Kaggle platform)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="usage_quickest.html">Usage (quickest version)</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage_quick.html">Usage (quick version)</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage_phases.html">Usage (details: phases)</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage_theoretical.html">Usage (details: theoretical datasets)</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage_policy.html">Usage (details: policy measures)</a></li>
<li class="toctree-l1"><a class="reference internal" href="covsirphy.html">API reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="TERM.html">Term definition</a></li>
<li class="toctree-l1"><a class="reference internal" href="CONTRIBUTING.html">Guideline of contribution</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">CovsirPhy</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Installation and dataset preparation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/INSTALLATION.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="installation-and-dataset-preparation">
<h1>Installation and dataset preparation<a class="headerlink" href="#installation-and-dataset-preparation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="options-of-installation">
<h2>Options of installation<a class="headerlink" href="#options-of-installation" title="Permalink to this headline">¶</a></h2>
<p>We have the following options to start analysis with CovsirPhy. Datasets
are not included in this package, but we can prepare them with
<code class="docutils literal notranslate"><span class="pre">DataLoader</span></code> class.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 32%" />
<col style="width: 20%" />
<col style="width: 49%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>Installation</p></th>
<th class="head"><p>Dataset preparation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Standard users</p></td>
<td><p>pip/pipenv</p></td>
<td><p>Automated with <code class="docutils literal notranslate"><span class="pre">DataLoader</span></code> class</p></td>
</tr>
<tr class="row-odd"><td><p>Developers</p></td>
<td><p>git-cloning</p></td>
<td><p>Automated with <code class="docutils literal notranslate"><span class="pre">DataLoader</span></code> class</p></td>
</tr>
<tr class="row-even"><td><p>Kagglers (local
environment)</p></td>
<td><p>git-cloning</p></td>
<td><p>Kaggle API and Python script and
<code class="docutils literal notranslate"><span class="pre">DataLoader</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Kagglers (Kaggle
platform)</p></td>
<td><p>pip</p></td>
<td><p>Kaggle Datasets and <code class="docutils literal notranslate"><span class="pre">DataLoader</span></code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="datasets-to-load">
<h2>Datasets to load<a class="headerlink" href="#datasets-to-load" title="Permalink to this headline">¶</a></h2>
<p>We will use the following datasets. Standard users and developers will
retrieve main datasets from <a class="reference external" href="https://covid19datahub.io/">COVID-19 Data
Hub</a> using <code class="docutils literal notranslate"><span class="pre">covid19dh</span></code> Python package
internally. We can get the citation list of primary source
<code class="docutils literal notranslate"><span class="pre">covsirphy.DataLoader</span></code> class (refer to “Standard users” subsection).
This description is from <a class="reference external" href="https://covid19datahub.io/articles/data.html">COVID-19 Data Hub:
Dataset</a>.</p>
<div class="section" id="covid-19-data-hub">
<h3><a class="reference external" href="https://covid19datahub.io/">COVID-19 Data Hub</a><a class="headerlink" href="#covid-19-data-hub" title="Permalink to this headline">¶</a></h3>
<p>Guidotti, E., Ardia, D., (2020), “COVID-19 Data Hub”, Journal of Open
Source Software 5(51):2376, doi: 10.21105/joss.02376.</p>
<ul class="simple">
<li><p>The number of cases (JHU style)</p></li>
<li><p>Population in each country</p></li>
<li><p>Government Response Tracker (OxCGRT)</p></li>
</ul>
</div>
<div class="section" id="open-covid-19-data-working-group">
<h3><a class="reference external" href="https://github.com/beoutbreakprepared/nCoV2019">Open COVID-19 Data Working Group</a><a class="headerlink" href="#open-covid-19-data-working-group" title="Permalink to this headline">¶</a></h3>
<p>Xu, B., Gutierrez, B., Mekaru, S. et al. Epidemiological data from the
COVID-19 outbreak, real-time case information. Sci Data 7, 106 (2020).
<a class="reference external" href="https://doi.org/10.1038/s41597-020-0448-0">https://doi.org/10.1038/s41597-020-0448-0</a></p>
<ul class="simple">
<li><p>Linelist of case reports</p></li>
</ul>
</div>
<div class="section" id="datasets-for-covsirphy">
<h3><a class="reference external" href="https://github.com/lisphilar/covid19-sir/tree/master/data">Datasets for CovsirPhy</a><a class="headerlink" href="#datasets-for-covsirphy" title="Permalink to this headline">¶</a></h3>
<div class="line-block">
<div class="line">Lisphilar (2020), GitHub repository, COVID-19 dataset in Japan.</div>
<div class="line">- The number of cases in Japan</div>
</div>
</div>
<div class="section" id="how-to-request-new-data-loader">
<h3>How to request new data loader<a class="headerlink" href="#how-to-request-new-data-loader" title="Permalink to this headline">¶</a></h3>
<p>If you want to use a new dataset for your analysis, please kindly inform
us via <a class="reference external" href="https://github.com/lisphilar/covid19-sir/issues/new/?template=request-new-method-of-dataloader-class.md">GitHub Issues: Request new method of DataLoader
class</a>.
Please read <a class="reference external" href="https://lisphilar.github.io/covid19-sir/CONTRIBUTING.html">Guideline of
contribution</a>
in advance.</p>
</div>
</div>
<div class="section" id="standard-users">
<h2>1. Standard users<a class="headerlink" href="#standard-users" title="Permalink to this headline">¶</a></h2>
<p>Stable versions of Covsirphy are available at <a class="reference external" href="https://pypi.org/project/covsirphy/">PyPI (The Python Package
Index): covsirphy</a> and support
Python 3.6 or newer versions.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">upgrade</span> <span class="n">covsirphy</span>
</pre></div>
</div>
<p>Development versions are in <a class="reference external" href="https://github.com/lisphilar/covid19-sir">GitHub repository:
CovsirPhy</a>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">upgrade</span> <span class="s2">&quot;git+https://github.com/lisphilar/covid19-sir.git#egg=covsirphy&quot;</span>
</pre></div>
</div>
<p>Then, download the datasets and save the data in <code class="docutils literal notranslate"><span class="pre">input</span></code> directory.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">covsirphy</span> <span class="k">as</span> <span class="nn">cs</span>
<span class="n">data_loader</span> <span class="o">=</span> <span class="n">cs</span><span class="o">.</span><span class="n">DataLoader</span><span class="p">(</span><span class="s2">&quot;input&quot;</span><span class="p">)</span>
<span class="n">jhu_data</span> <span class="o">=</span> <span class="n">data_loader</span><span class="o">.</span><span class="n">jhu</span><span class="p">()</span>
<span class="n">japan_data</span> <span class="o">=</span> <span class="n">data_loader</span><span class="o">.</span><span class="n">japan</span><span class="p">()</span>
<span class="n">population_data</span> <span class="o">=</span> <span class="n">data_loader</span><span class="o">.</span><span class="n">population</span><span class="p">()</span>
<span class="n">oxcgrt_data</span> <span class="o">=</span> <span class="n">data_loader</span><span class="o">.</span><span class="n">oxcgrt</span><span class="p">()</span>
<span class="n">linelist</span> <span class="o">=</span> <span class="n">data_loader</span><span class="o">.</span><span class="n">linelist</span><span class="p">()</span>
</pre></div>
</div>
<p>If <code class="docutils literal notranslate"><span class="pre">input</span></code> directory has the datasets, <code class="docutils literal notranslate"><span class="pre">DataLoader</span></code> will load the
local files. If the datasets were updated in remote servers,
<code class="docutils literal notranslate"><span class="pre">DataLoader</span></code> will update the local files automatically.</p>
<p>We can get descriptions of the datasets and raw/cleaned datasets easily.
As an example, JHU dataset will be used here.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Description (string)</span>
<span class="n">jhu_data</span><span class="o">.</span><span class="n">citation</span>
<span class="c1"># Raw data (pandas.DataFrame)</span>
<span class="n">jhu_data</span><span class="o">.</span><span class="n">raw</span>
<span class="c1"># Cleaned data (pandas.DataFrame)</span>
<span class="n">jhu_data</span><span class="o">.</span><span class="n">cleaned</span><span class="p">()</span>
</pre></div>
</div>
<p>We can get COVID-19 Data Hub citation list of primary sources as
follows.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">data_loader</span><span class="o">.</span><span class="n">covid19dh_citation</span>
</pre></div>
</div>
</div>
<div class="section" id="developers">
<h2>2. Developers<a class="headerlink" href="#developers" title="Permalink to this headline">¶</a></h2>
<p>Developers will clone this repository with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">clone</span></code> command and
install dependencies with pipenv.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">lisphilar</span><span class="o">/</span><span class="n">covid19</span><span class="o">-</span><span class="n">sir</span><span class="o">.</span><span class="n">git</span>
<span class="n">cd</span> <span class="n">covid19</span><span class="o">-</span><span class="n">sir</span>
<span class="n">pip</span> <span class="n">install</span> <span class="n">wheel</span><span class="p">;</span> <span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">upgrade</span> <span class="n">pip</span><span class="p">;</span> <span class="n">pip</span> <span class="n">install</span> <span class="n">pipenv</span>
<span class="n">export</span> <span class="n">PIPENV_VENV_IN_PROJECT</span><span class="o">=</span><span class="n">true</span>
<span class="n">export</span> <span class="n">PIPENV_TIMEOUT</span><span class="o">=</span><span class="mi">7200</span>
<span class="n">pipenv</span> <span class="n">sync</span> <span class="o">--</span><span class="n">dev</span>
</pre></div>
</div>
<p>Shell will be started with <code class="docutils literal notranslate"><span class="pre">pipenv</span> <span class="pre">shell</span></code> and <code class="docutils literal notranslate"><span class="pre">python</span></code> command.</p>
<p>Developers can perform tests with
<code class="docutils literal notranslate"><span class="pre">pipenv</span> <span class="pre">run</span> <span class="pre">pytest</span> <span class="pre">-v</span> <span class="pre">--durations=0</span> <span class="pre">--failed-first</span> <span class="pre">--maxfail=1</span> <span class="pre">--cov=covsirphy</span> <span class="pre">--cov-report=term-missing</span> <span class="pre">--profile-svg</span></code>
and call graph will be saved as SVG file (prof/combined.svg).</p>
<ul class="simple">
<li><p>Windows users need to install <a class="reference external" href="https://graphviz.org/_pages/Download/Download_windows.html">Graphviz for
Windows</a>
in advance.</p></li>
<li><p>Debian/Ubuntu users need to install Graphviz with
<code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">apt</span> <span class="pre">install</span> <span class="pre">graphviz</span></code> in advance.</p></li>
</ul>
<p>If you can run <code class="docutils literal notranslate"><span class="pre">make</span></code> command,</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 28%" />
<col style="width: 72%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">install</span></code></p></td>
<td><p>Install pipenv and the dependencies of CovsirPhy</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">test</span></code></p></td>
<td><p>Run tests using Pytest</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">docs</span></code></p></td>
<td><p>Update sphinx document</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">example</span></code></p></td>
<td><p>Run example codes</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">clean</span></code></p></td>
<td><p>Clean-up output files and pipenv environment</p></td>
</tr>
</tbody>
</table>
<p>We can prepare the dataset with the same codes as that was explained in
“1. Standard users” subsection.</p>
</div>
<div class="section" id="kagglers-local-environment">
<h2>3. Kagglers (local environment)<a class="headerlink" href="#kagglers-local-environment" title="Permalink to this headline">¶</a></h2>
<p>As explained in “2. Developers” subsection, we need to git-clone this
repository and install the dependencies when you want to uses this
package with Kaggle API in your local environment.</p>
<p>Then, please move to account page of Kaggle and download “kaggle.json”
by selecting “API &gt; Create New API Token” button. Copy the json file to
the top directory of the local repository or “~/.kaggle”. Please refer
to <a class="reference external" href="https://www.kaggle.com/docs/api">How to Use Kaggle: Public API</a>
and <a class="reference external" href="https://stackoverflow.com/questions/55934733/documentation-for-kaggle-api-within-python#:~:text=Here%20are%20the%20steps%20involved%20in%20using%20the%20Kaggle%20API%20from%20Python.&amp;text=Go%20to%20your%20Kaggle%20account,json%20will%20be%20downloaded">stackoverflow: documentation for Kaggle API *within*
python?</a></p>
<p>We can download datasets with <code class="docutils literal notranslate"><span class="pre">pipenv</span> <span class="pre">run</span> <span class="pre">./input.py</span></code> command.
Modification of environment variables is un-necessary. Files will be
saved in <code class="docutils literal notranslate"><span class="pre">input</span></code> directory of your local repository.</p>
<div class="line-block">
<div class="line">Note:</div>
<div class="line">Except for OxCGRT dataset, the datasets downloaded with <code class="docutils literal notranslate"><span class="pre">input.py</span></code>
scripts are different from that explained in the previous subsections
as follows.</div>
</div>
<ul class="simple">
<li><p>The number of cases (JHU) and linelist: <a class="reference external" href="https://www.kaggle.com/sudalairajkumar/novel-corona-virus-2019-dataset">Novel Corona Virus 2019
Dataset by
SRK</a></p></li>
<li><p>The number of cases in Japan: <a class="reference external" href="https://www.kaggle.com/lisphilar/covid19-dataset-in-japan">COVID-19 dataset in Japan by
Lisphilar</a></p></li>
<li><p>Population in each country: <a class="reference external" href="https://www.kaggle.com/dgrechka/covid19-global-forecasting-locations-population">covid19 global forecasting: locations
population by Dmitry A.
Grechka</a></p></li>
<li><p>Government Response Tracker (OxCGRT): <a class="reference external" href="https://github.com/OxCGRT/covid-policy-tracker">Thomas Hale, Sam Webster, Anna
Petherick, Toby Phillips, and Beatriz Kira. (2020). Oxford COVID-19
Government Response Tracker. Blavatnik School of
Government.</a></p></li>
</ul>
<p>Usage of <code class="docutils literal notranslate"><span class="pre">DataLoader</span></code> class is as follows. Please specify
<code class="docutils literal notranslate"><span class="pre">local_file</span></code> argument in the methods.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">covsirphy</span> <span class="k">as</span> <span class="nn">cs</span>
<span class="n">data_loader</span> <span class="o">=</span> <span class="n">cs</span><span class="o">.</span><span class="n">DataLoader</span><span class="p">(</span><span class="s2">&quot;kaggle/input&quot;</span><span class="p">)</span>
<span class="n">jhu_data</span> <span class="o">=</span> <span class="n">data_loader</span><span class="o">.</span><span class="n">jhu</span><span class="p">()</span>
<span class="n">japan_data</span> <span class="o">=</span> <span class="n">data_loader</span><span class="o">.</span><span class="n">japan</span><span class="p">(</span><span class="n">local_file</span><span class="o">=</span><span class="s2">&quot;./kaggle/input/covid_jpn_total.csv&quot;</span><span class="p">)</span>
<span class="n">population_data</span> <span class="o">=</span> <span class="n">data_loader</span><span class="o">.</span><span class="n">population</span><span class="p">()</span>
<span class="n">oxcgrt_data</span> <span class="o">=</span> <span class="n">data_loader</span><span class="o">.</span><span class="n">oxcgrt</span><span class="p">()</span>
<span class="n">linelist</span> <span class="o">=</span> <span class="n">data_loader</span><span class="o">.</span><span class="n">linelist</span><span class="p">()</span>
</pre></div>
</div>
<p>(Optional) We can replace a part of JHU data with country-specific
datasets. As an example, we will use the records in Japan here because
values of JHU dataset sometimes differ from government-announced values
as shown in <a class="reference external" href="https://www.kaggle.com/lisphilar/covid-19-government-jhu-data-in-japan">COVID-19: Government/JHU data in
Japan</a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">jhu_data</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">japan_data</span><span class="p">)</span>
<span class="n">ncov_df</span> <span class="o">=</span> <span class="n">jhu_data</span><span class="o">.</span><span class="n">cleaned</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="kagglers-kaggle-platform">
<h2>4. Kagglers (Kaggle platform)<a class="headerlink" href="#kagglers-kaggle-platform" title="Permalink to this headline">¶</a></h2>
<p>When you want to use this package in Kaggle notebook, please turn on
Internet option in notebook setting and download the datasets explained
in the previous subsection “3. Kagglers (Kaggle platform)”.</p>
<p>Then, install this package with pip command.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>!pip install covsirphy
</pre></div>
</div>
<p>Then, please load the datasets with the following codes, specifying the
filenames.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">covsirphy</span> <span class="k">as</span> <span class="nn">cs</span>
<span class="c1"># The number of cases (JHU style)</span>
<span class="n">data_loader</span> <span class="o">=</span> <span class="n">cs</span><span class="o">.</span><span class="n">DataLoader</span><span class="p">()</span>
<span class="n">jhu_data</span> <span class="o">=</span> <span class="n">data_loader</span><span class="o">.</span><span class="n">jhu</span><span class="p">()</span>
<span class="c1"># (Optional) The number of cases in Japan</span>
<span class="n">japan_data</span> <span class="o">=</span> <span class="n">cs</span><span class="o">.</span><span class="n">CountryData</span><span class="p">(</span><span class="s2">&quot;/kaggle/input/covid19-dataset-in-japan/covid_jpn_total.csv&quot;</span><span class="p">,</span> <span class="n">country</span><span class="o">=</span><span class="s2">&quot;Japan&quot;</span><span class="p">)</span>
<span class="n">japan_data</span><span class="o">.</span><span class="n">set_variables</span><span class="p">(</span>
    <span class="n">date</span><span class="o">=</span><span class="s2">&quot;Date&quot;</span><span class="p">,</span> <span class="n">confirmed</span><span class="o">=</span><span class="s2">&quot;Positive&quot;</span><span class="p">,</span> <span class="n">fatal</span><span class="o">=</span><span class="s2">&quot;Fatal&quot;</span><span class="p">,</span> <span class="n">recovered</span><span class="o">=</span><span class="s2">&quot;Discharged&quot;</span><span class="p">,</span> <span class="n">province</span><span class="o">=</span><span class="kc">None</span>
<span class="p">)</span>
<span class="c1"># Population in each country</span>
<span class="n">population_data</span> <span class="o">=</span> <span class="n">data_loader</span><span class="o">.</span><span class="n">population</span><span class="p">()</span>
</pre></div>
</div>
<div class="line-block">
<div class="line">Note:</div>
<div class="line">Currently, OxCGRT dataset is not supported.</div>
</div>
<p>(Optional) We can replace a part of JHU data with country-specific
datasets. As an example, we will use the records in Japan here because
values of JHU dataset sometimes differ from government-announced values
as shown in <a class="reference external" href="https://www.kaggle.com/lisphilar/covid-19-government-jhu-data-in-japan">COVID-19: Government/JHU data in
Japan</a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">jhu_data</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">japan_data</span><span class="p">)</span>
<span class="n">ncov_df</span> <span class="o">=</span> <span class="n">jhu_data</span><span class="o">.</span><span class="n">cleaned</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="usage_quickest.html" class="btn btn-neutral float-right" title="Usage (quickest version)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="README.html" class="btn btn-neutral float-left" title="CovsirPhy introduction" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, CovsirPhy Development Team

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>